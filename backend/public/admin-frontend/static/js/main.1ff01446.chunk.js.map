{"version":3,"sources":["static/img/logo.png","components/Page.tsx","Pages/Dashboard.tsx","util/http/http-resource.ts","util/http/index.ts","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.jsx","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","components/loading/LoadingContext.tsx","Pages/category/Table.tsx","Pages/category/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","Pages/category/Form.tsx","Pages/category/PageForm.tsx","util/model.ts","util/http/cast-member-http.ts","Pages/cast-member/Table.tsx","Pages/cast-member/PageList.tsx","Pages/cast-member/Form.tsx","Pages/cast-member/PageForm.tsx","util/http/genre-http.ts","Pages/genre/Table.tsx","Pages/genre/PageList.tsx","Pages/genre/Form.tsx","Pages/genre/PageForm.tsx","util/http/video-http.ts","components/Rating.tsx","Pages/video/Form/RatingField.tsx","components/InputFile.tsx","Pages/video/Form/UploadField.tsx","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useHttpHandled.ts","hooks/useCollectionManager.ts","util/model-filters.ts","Pages/video/Form/GenreField.tsx","Pages/video/Form/CategoryField.tsx","Pages/video/Form/CastMemberField.tsx","hooks/useSnackbarFormError.ts","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadActions.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","Pages/video/Form/index.tsx","Pages/video/PageForm.tsx","hooks/useDeleteCollection.tsx","components/DeleteDialog.tsx","Pages/video/Table.tsx","Pages/video/PageList.tsx","Pages/uploads/UploadAction.tsx","Pages/uploads/UploadItem.tsx","Pages/uploads/index.tsx","routes/index.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","routes/AppRouter.tsx","components/Breadcrumbs.tsx","components/Spinner.tsx","components/SnackbarProvider.tsx","components/loading/LoadingProvider.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","Dashboard","HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","objectToFormData","booleansAsIntegers","Object","values","filter","el","File","length","httpVideo","create","baseURL","process","instances","categoryHttp","palette","primary","main","contrastText","secondary","dark","background","default","success","green","A400","red","theme","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolBar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","localTheme","BadgeYes","Chip","label","BadgeNo","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","dispatchOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debounceTime","prevPros","prevState","snapshot","search","e","document","addEventListener","removeEventListener","Grow","appear","in","timeout","ref","rootRef","searchIcon","TextField","autoFocus","InputProps","textLabels","toolbar","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","IconButton","clearIcon","onClick","React","PureComponent","withStyles","display","flex","marginTop","marginRight","name","Table","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","newProps","merge","setColumnsWidth","map","column","omit","forEach","key","width","isLoading","applyLoading","responsive","originalProps","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathName","pathname","locationState","rowsPerPageOptions","schema","useMemo","yup","shape","transform","isNaN","parseInt","includes","nullable","toLowerCase","createValidationSchema","stateFromUrl","URLSearchParams","substr","cast","getStateFromURL","cleanSearchText","useCallback","newText","formatSearchParams","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","useState","totalRecords","setTotalRecords","useEffect","replace","newLocation","pathName","oldState","nextState","isEqual","push","applyOrderInColumn","setLocale","mixed","required","notType","string","max","number","min","addMethod","test","message","tableRef","current","changeRowsPerPage","changePage","perPage","changeColumn","direction","resetTablePagination","update","sortDirection","LoadingContext","createContext","columnsDefinitions","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","snackbar","useSnackbar","subscribed","useRef","setData","loading","useContext","a","list","meta","total","isCancelledRequest","enqueueSnackbar","getData","serverSide","count","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","PageList","Fab","size","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","Button","handleSave","type","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","validationSchema","Form","useForm","defaultValues","is_active","register","handleSubmit","getValues","setValue","errors","watch","triggerValidation","useParams","category","setCategory","onSubmit","formData","setTimeout","getCategory","xs","md","helperText","InputLabelProps","shrink","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","then","isValid","PageForm","CastMemberTypeMap","0","1","VideoFileFieldsMap","castMemberHttp","castMemberNames","setLoading","oneOf","debouncedState","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","serverSideFilterList","invert","onFilterChange","columnIndex","changeExtraFilter","castMember","setCastMember","getCastMember","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","genreHttp","filterType","join","setCategories","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","isSubscribed","categories_id","genre","setGenre","promises","console","log","Promise","categoriesReponse","genreResponse","select","SelectProps","multiple","MenuItem","videoHttp","height","fontSize","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","RatingField","FormControlProps","row","InputFile","fileRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFieldProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onClose","onInputChange","open","setOpen","setSearchText","debouncedSearchText","setOptions","autocompleteProps","loadingText","inputValue","noOptionsText","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useHttpHandled","request","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","index","splice","getGenresFromCategory","genres","cat","GenreField","setGenres","autocompleteHttp","removeCategory","autocompleteRef","clearOnEscape","getOptionSelected","option","getOptionLabel","noWrap","genresSubTitle","grey","CategoryField","genresFromCategory","CastMemberField","castMembers","setCastMembers","useSnackbarFormError","submitCount","hasError","keys","isFinished","obj","progress","isUploadType","some","progressContainer","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","countFiles","reduce","sum","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","successIcon","errorIcon","UploadActions","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","movieIcon","minWidth","listItem","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","description","year_launched","every","v","parent","fileFields","cast_members","opened","formState","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","resetForm","field","cast_member","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","CardContent","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","DeleteDialog","handleClose","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","confirmed","ids","deleteCollection","response","catch","onRowsDelete","rowsDeleted","divider","UploadAction","activeActions","orientation","gridTitle","justify","panelSummary","expandedPanel","expandedIcon","routes","path","exact","CategoryList","CategoryForm","CastMemberList","CastMemberForm","GenreList","GenreForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","listRoutes","Menu","menuRoutes","route","anchorEl","setAnchorEl","Boolean","aria-label","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","breadcrumbNameMap","flexDirection","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadCrumb","makeLocalTheme","Spinner","LinearProgress","zIndex","variantSuccess","variantError","variantInfo","SnackbarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","App","Fragment","CssBaseline","basename","window","hostname","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialIpdate","_method","ignoreLoading","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1ff01446.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\r\nimport {Container, Typography, makeStyles, Box} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n    title:{\r\n        color: '#999999'\r\n    }\r\n})\r\n\r\ntype PageProps = {\r\n    title: string\r\n};\r\nexport const Page:React.FC<PageProps> = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <Typography className={classes.title} component=\"h1\" variant=\"h5\">\r\n                    {props.title}\r\n                </Typography>\r\n                <Box paddingTop={2}>\r\n                    {props.children}\r\n                </Box>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {Page} from \"../components/Page\";\r\n\r\ninterface DashboardProps {\r\n\r\n};\r\nconst Dashboard = (props: DashboardProps) => {\r\n    return (\r\n        <Page title=\"Dashboard\">\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import {AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource} from \"axios\";\r\nimport axios from 'axios';\r\nimport {objectToFormData} from 'object-to-formdata'\r\n\r\nexport default class HttpResource {\r\n\r\n    private cancelList: CancelTokenSource | null = null;\r\n\r\n    constructor(protected http: AxiosInstance, protected  resource) {\r\n\r\n    }\r\n\r\n    list<T = any>(options?: { queryParams? }): Promise<AxiosResponse<T>> {\r\n\r\n        if (this.cancelList) {\r\n            this.cancelList.cancel('list cancelled');\r\n        }\r\n\r\n        this.cancelList = axios.CancelToken.source();\r\n\r\n        const config: AxiosRequestConfig = {\r\n            cancelToken: this.cancelList.token\r\n        };\r\n\r\n        if (options && options.queryParams) {\r\n            config.params = options.queryParams\r\n        }\r\n        return this.http.get<T>(this.resource, config);\r\n    }\r\n\r\n    get<T = any>(id): Promise<AxiosResponse<T>> {\r\n        return this.http.get<T>(`${this.resource}/${id}`);\r\n    }\r\n\r\n    create<T = any>(data): Promise<AxiosResponse<T>> {\r\n        let sendData = this.makeSendData(data);\r\n        return this.http.post<T>(this.resource, sendData);\r\n    }\r\n\r\n    update<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\r\n        let sendData = data;\r\n        if (this.containsFile(data)) {\r\n            sendData = this.getFormData(data);\r\n        }\r\n        const {http, config} = options || {} as any;\r\n        return !options || !http || !http.usePost\r\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\r\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\r\n\r\n        return this.http.put<T>(`${this.resource}/${id}`, data);\r\n    }\r\n\r\n    partialIpdate<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\r\n        let sendData = data;\r\n        if (this.containsFile(data)) {\r\n            sendData = this.getFormData(data);\r\n        }\r\n        const {http, config} = options || {} as any;\r\n        return !options || !http || !http.usePost\r\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\r\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\r\n\r\n        return this.http.put<T>(`${this.resource}/${id}`, data);\r\n    }\r\n\r\n    delete<T = any>(id): Promise<AxiosResponse<T>> {\r\n        return this.http.delete<T>(`${this.resource}/${id}`);\r\n    }\r\n\r\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\r\n        const config:AxiosRequestConfig = {};\r\n        if(queryParams) {\r\n            config['params'] = queryParams;\r\n        }\r\n        return this.http.delete<T>(`${this.resource}`, config)\r\n    }\r\n\r\n    isCancelledRequest(error) {\r\n        return axios.isCancel(error);\r\n    }\r\n\r\n    private makeSendData(data) {\r\n        return this.containsFile(data) ? this.getFormData(data) : data;\r\n    }\r\n\r\n    private getFormData(data) {\r\n        return objectToFormData(data, {booleansAsIntegers: true});\r\n    }\r\n\r\n    private containsFile(data) {\r\n        return Object\r\n            .values(data)\r\n            .filter(el => el instanceof File).length !== 0\r\n    }\r\n}\r\n","import axios, {AxiosRequestConfig, AxiosResponse} from 'axios'\r\n\r\nexport const httpVideo = axios.create({\r\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\r\n});\r\n\r\nconst instances = [httpVideo]\r\n\r\nexport function addGlobalRequestInterceptor(\r\n    onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\r\n    onRejected?: (error: any) => any\r\n) {\r\n    const ids: number[] = [];\r\n    for (let i of instances) {\r\n        const id = i.interceptors.request.use(onFulfilled, onRejected);\r\n        ids.push(id);\r\n    }\r\n    return ids;\r\n}\r\n\r\nexport function removeGlobalRequestInterceptor(ids: number[]) {\r\n    ids.forEach((id, index) => instances[index].interceptors.request.eject(id))\r\n}\r\n\r\nexport function addGlobalResponseInterceptor(\r\n    onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\r\n    onRejected?: (error: any) => any\r\n) {\r\n    const ids: number[] = [];\r\n    for (let i of instances) {\r\n        const id = i.interceptors.response.use(onFulfilled, onRejected);\r\n        ids.push(id);\r\n    }\r\n    return ids;\r\n}\r\n\r\nexport function removeGlobalResponseInterceptor(ids: number[]) {\r\n    ids.forEach((id, index) => instances[index].interceptors.response.eject(id))\r\n}\r\n\r\n","import HttpResource from \"./http-resource\";\r\nimport {httpVideo} from \"./index\";\r\n\r\nconst categoryHttp = new HttpResource(httpVideo, 'categories');\r\n\r\nexport default categoryHttp;\r\n","import {PaletteOptions, SimplePaletteColorOptions} from \"@material-ui/core/styles/createPalette\";\r\nimport {green, red} from \"@material-ui/core/colors\";\r\nimport {createMuiTheme} from \"@material-ui/core\";\r\n\r\nconst palette: PaletteOptions = {\r\n    primary: {\r\n        main: '#79aec8',\r\n        contrastText: '#fff'\r\n    },\r\n    secondary:{\r\n        main: '#4db5ab',\r\n        contrastText: '#fff',\r\n        dark:'#055a52'\r\n    },\r\n    background:{\r\n        default: '#fafafa'\r\n    },\r\n    success:{\r\n        main: green.A400,\r\n        contrastText: '#fff'\r\n    },\r\n    error: {\r\n        main: red.A400\r\n    },\r\n};\r\n\r\n// @ts-ignore\r\n// @ts-ignore\r\nconst theme = createMuiTheme({\r\n    palette,\r\n    overrides:{\r\n        MUIDataTable:{\r\n            paper:{\r\n                boxShadow: 'none',\r\n            }\r\n        },\r\n        MUIDataTableToolBar:{\r\n            root: {\r\n                minHeight: '58px',\r\n                backgroundColor: palette!.background!.default\r\n            },\r\n            icon: {\r\n                color: (palette!.primary! as SimplePaletteColorOptions).main,\r\n                '&:hover, &:active, &.focus' :{\r\n                    color: (palette!.primary! as SimplePaletteColorOptions).dark,\r\n                },\r\n            },\r\n            iconActive:{\r\n                color: (palette!.primary! as SimplePaletteColorOptions).dark,\r\n                '&:hover, &:active, &.focus':{\r\n                    color: (palette!.primary! as SimplePaletteColorOptions).dark\r\n                },\r\n            },\r\n        },\r\n        MUIDataTableHeadCell: {\r\n            fixedHeader: {\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\r\n                color: '#ffffff',\r\n                '&[aria-sort]':{\r\n                    backgroundColor: '#459ac4',\r\n                }\r\n            },\r\n            sortActive: {\r\n                color: '#fff'\r\n            },\r\n            sortAction: {\r\n                alignItems: 'center'\r\n            },\r\n            sortLabelRoot:{\r\n                '& svg':{\r\n                    color:'#fff !important'\r\n                }\r\n            }\r\n        },\r\n        MUIDataTableSelectCell:{\r\n            headerCell:{\r\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\r\n                '& span': {\r\n                    color: '#fff !important'\r\n                }\r\n            },\r\n        },\r\n        MUIDataTableBodyCell:{\r\n            root: {\r\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\r\n                '&:hover, &:active, &.focus' :{\r\n                    color: (palette!.secondary as SimplePaletteColorOptions).main,\r\n                },\r\n            },\r\n        },\r\n        MUIDataTableToolbarSelect:{\r\n            title:{\r\n                color:  (palette!.primary as SimplePaletteColorOptions).main,\r\n            },\r\n            iconButton:{\r\n                color: (palette!.primary as SimplePaletteColorOptions).main,\r\n            }\r\n        },\r\n        MUIDataTableBodyRow: {\r\n            root: {\r\n                '&:nth-child(add':{\r\n                    backgroundColor: palette!.background!.default\r\n                }\r\n            }\r\n        },\r\n        MUIDataTablePagination:{\r\n            root:{\r\n                color:  (palette!.primary as SimplePaletteColorOptions).main,\r\n            }\r\n        },\r\n    }\r\n});\r\n\r\nexport default theme;\r\n\r\n","import * as React from 'react';\r\nimport {Chip, createMuiTheme, MuiThemeProvider} from \"@material-ui/core\";\r\nimport theme from \"../theme\";\r\n\r\nconst localTheme = createMuiTheme({\r\n    palette:{\r\n        primary: theme.palette.success,\r\n        secondary: theme.palette.secondary\r\n    }\r\n})\r\nexport const BadgeYes = () => {\r\n    return (\r\n        <MuiThemeProvider theme={localTheme}>\r\n            <Chip label=\"Sim\" color={'primary'}/>\r\n        </MuiThemeProvider>\r\n    );\r\n};\r\n\r\nexport const BadgeNo = () => {\r\n    return (\r\n        <MuiThemeProvider theme={localTheme}>\r\n            <Chip label=\"Não\" color={'secondary'}/>\r\n        </MuiThemeProvider>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {debounce} from 'lodash'\r\n\r\nconst defaultSearchStyles = theme => ({\r\n    main: {\r\n        display: 'flex',\r\n        flex: '1 0 auto',\r\n    },\r\n    searchIcon: {\r\n        color: theme.palette.text.secondary,\r\n        marginTop: '10px',\r\n        marginRight: '8px',\r\n    },\r\n    searchText: {\r\n        flex: '0.8 0',\r\n    },\r\n    clearIcon: {\r\n        '&:hover': {\r\n            color: theme.palette.error.main,\r\n        },\r\n    },\r\n});\r\n\r\nclass DebouncedTableSearch extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        const { searchText } = this.props;\r\n        let value = searchText;\r\n        if(searchText && searchText.value !== undefined ){\r\n            value = searchText.value;\r\n        }\r\n        this.state = {\r\n            text: value\r\n        }\r\n        this.dispatchOnSearch = debounce(this.dispatchOnSearch.bind(this), this.props.debounceTime)\r\n    }\r\n\r\n    handleTextChange = event => {\r\n        const value = event.target.value;\r\n        this.setState({\r\n            text: value\r\n        }, () => this.dispatchOnSearch(value))\r\n    };\r\n\r\n    dispatchOnSearch = value => {\r\n        this.props.onSearch(value)\r\n    }\r\n\r\n    componentDidUpdate(prevPros,prevState, snapshot){\r\n        const { searchText } = this.props;\r\n        if(searchText && searchText.value !== undefined && prevPros.search !== this.props.searchText){\r\n            const value = searchText.value;\r\n            if(value) {\r\n                this.setState({\r\n                    text: value\r\n                }, () => this.props.onSearch(value));\r\n                this.props.onSearch(value);\r\n            } else {\r\n                try {\r\n                    this.props.onHide()\r\n                } catch(e){\r\n\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.onKeyDown, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.onKeyDown, false);\r\n    }\r\n\r\n    onKeyDown = event => {\r\n        if (event.keyCode === 27) {\r\n            this.props.onHide();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { classes, options, onHide } = this.props;\r\n        let value = this.state.text;\r\n        return (\r\n            <Grow appear in={true} timeout={300}>\r\n                <div className={classes.main} ref={el => (this.rootRef = el)}>\r\n                    <SearchIcon className={classes.searchIcon} />\r\n                    <TextField\r\n                        className={classes.searchText}\r\n                        autoFocus={true}\r\n                        InputProps={{\r\n                            'data-test-id': options.textLabels.toolbar.search,\r\n                            'aria-label': options.textLabels.toolbar.search,\r\n                        }}\r\n                        value={value || ''}\r\n                        onChange={this.handleTextChange}\r\n                        fullWidth={true}\r\n                        inputRef={el => (this.searchField = el)}\r\n                        placeholder={options.searchPlaceholder}\r\n                    />\r\n                    <IconButton className={classes.clearIcon} onClick={onHide}>\r\n                        <ClearIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </Grow>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(defaultSearchStyles, { name: 'MUIDataTableSearch' })(DebouncedTableSearch);\r\n","import * as React from 'react';\r\nimport MUIDataTable, {\r\n    MUIDataTableColumn,\r\n    MUIDataTableOptions,\r\n    MUIDataTableProps\r\n} from \"mui-datatables\";\r\nimport {merge, omit, cloneDeep} from 'lodash';\r\nimport {MuiThemeProvider, Theme, useMediaQuery, useTheme} from \"@material-ui/core\";\r\nimport DebounceTableSearch from './DebouncedTableSearch'\r\nimport {RefAttributes} from \"react\";\r\n\r\nconst makeDefaultOptions = (debouncedSearchTime?):  MUIDataTableOptions => ({\r\n    print: false,\r\n    download: false,\r\n    textLabels: {\r\n        body: {\r\n            noMatch: \"Nenhum registro encontrado\",\r\n            toolTip: \"Classificar\",\r\n        },\r\n        pagination: {\r\n            next: \"Próxima página\",\r\n            previous: \"Página anterior\",\r\n            rowsPerPage: \"Por páginas\",\r\n            displayRows: \"de\",\r\n        },\r\n        toolbar: {\r\n            search: \"Busca\",\r\n            downloadCsv: \"Dowload CSV\",\r\n            print: \"Imprimir\",\r\n            viewColumns: \"Ver Colunas\",\r\n            filterTable: \"Filtrar Tabelas\",\r\n        },\r\n        filter: {\r\n            all: \"Todos\",\r\n            title: \"FILTROS\",\r\n            reset: \"LIMPAR\"\r\n        },\r\n        viewColumns: {\r\n            title: \"Ver Colunas\",\r\n            titleAria: \"Ver/Esconder Colunas da Tabela\",\r\n        },\r\n        selectedRows: {\r\n            text: \"registros(s) selecionados\",\r\n            delete: \"Excluir\",\r\n            deleteAria: \"Excluir registros selecionados\",\r\n        },\r\n    },\r\n    customSearchRender: (searchText: string,\r\n                         handleSearch: any,\r\n                         hideSearch: any,\r\n                         options: any) => {\r\n        return <DebounceTableSearch\r\n        searchText={searchText}\r\n        onSearch={handleSearch}\r\n        hideSearch={hideSearch}\r\n        options={options}\r\n        debounceTime={debouncedSearchTime}\r\n        />\r\n    }\r\n});\r\nexport interface TableColumn extends MUIDataTableColumn {\r\n    width?: string\r\n}\r\n\r\nexport interface TableComponent {\r\n    changePage: (page: number) => void;\r\n    changeRowsPerPage: (rowsPerPage: number) => void;\r\n    clear: () => void;\r\n}\r\n\r\nexport interface TableProps extends MUIDataTableProps,RefAttributes<TableComponent> {\r\n     columns: TableColumn[];\r\n     isLoading?: boolean;\r\n     debouncedSearchTime?: number;\r\n}\r\n\r\nconst Table = React.forwardRef<TableComponent, TableProps>((props, ref) => {\r\n\r\n    const theme = cloneDeep<Theme>(useTheme());\r\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\r\n    const defaultOptions = makeDefaultOptions(props.debouncedSearchTime);\r\n    const newProps = merge(\r\n        { options: cloneDeep(defaultOptions)},\r\n        props,\r\n        {columns: extractMuiDataTableColumns(props.columns)},\r\n    );\r\n\r\n    function applyResponse() {\r\n        newProps.options.responsive = isSmOrDown  ? 'stacked' : 'scrollMaxHeight';\r\n    }\r\n\r\n    function extractMuiDataTableColumns(columns: TableColumn[]) : MUIDataTableColumn[] {\r\n        setColumnsWidth(columns);\r\n        return columns.map(column => omit(column, 'width'))\r\n    }\r\n\r\n    function setColumnsWidth(columns: TableColumn[]){\r\n        columns.forEach((column, key) => {\r\n            if(column.width){\r\n                let overrides = theme.overrides as any;\r\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key + 2})`] = {\r\n                    width: column.width\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    function applyLoading(){\r\n        const textLabels = (newProps.options as any).textLabels;\r\n        textLabels.body.noMatch = newProps.isLoading === true\r\n            ? 'Carregando...'\r\n            :  textLabels.body.noMatch;\r\n    }\r\n\r\n    function getOriginalMuiDataTableProps(){\r\n        return {\r\n            ...omit(newProps,'isLoading'),\r\n             ref }\r\n    }\r\n\r\n    applyLoading();\r\n    applyResponse();\r\n    const originalProps = getOriginalMuiDataTableProps();\r\n\r\n    return (\r\n        <MuiThemeProvider theme={theme}>\r\n            <MUIDataTable {...originalProps}/>\r\n        </MuiThemeProvider>\r\n    );\r\n});\r\n\r\nexport default Table;\r\n\r\nexport function makeActionStyles(column) {\r\n    return theme => {\r\n        const copyTheme = cloneDeep(theme);\r\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column.length-1}\"]`;\r\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\r\n            paddingTop: '0px',\r\n            paddingBottom: '0px'\r\n        };\r\n        return copyTheme;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport {IconButton,makeStyles, Tooltip} from \"@material-ui/core\";\r\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\r\n\r\nconst useStyles = makeStyles( theme => ({\r\n    iconButton: (theme as any).overrides.MUIDataTableToolBar.icon\r\n}));\r\n\r\ninterface FilterResetButtonProps {\r\n    handleClick: () => void\r\n}\r\n\r\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Tooltip title={'Limpar busca'}>\r\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\r\n                <ClearAllIcon/>\r\n            </IconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n","import * as Typings from './types'\r\nimport {createActions, createReducer} from 'reduxsauce';\r\nimport {UpdateExtraFilterAction} from \"./types\";\r\n\r\nexport const {Types, Creators} = createActions<{\r\n    SET_SEARCH: string,\r\n    SET_PAGE: string,\r\n    SET_PER_PAGE: string,\r\n    SET_ORDER: string,\r\n    SET_RESET: string,\r\n    UPDATE_EXTRA_FILTER: string\r\n}, {\r\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\r\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\r\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\r\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction\r\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetOrderAction\r\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\r\n}>({\r\n    setSearch: ['payload'],\r\n    setPage: ['payload'],\r\n    setPerPage:['payload'],\r\n    setOrder:['payload'],\r\n    setReset: ['payload'],\r\n    updateExtraFilter: ['payload']\r\n});\r\n\r\nexport const INITIAL_STATE : Typings.State = {\r\n    search: '',\r\n    pagination: {\r\n        page: 1,\r\n        per_page: 10\r\n    },\r\n    order: {\r\n        sort: null,\r\n        dir: null\r\n    }\r\n};\r\n\r\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\r\n    [Types.SET_SEARCH]: setSearch as any,\r\n    [Types.SET_PAGE]: setPage as any,\r\n    [Types.SET_PER_PAGE]: setPerPage as any,\r\n    [Types.SET_ORDER]: setOrder as any,\r\n    [Types.SET_RESET]: setReset as any,\r\n    [Types.UPDATE_EXTRA_FILTER] : updateExtraFilter as any\r\n});\r\n\r\nexport default reducer;\r\n\r\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction) : Typings.State{\r\n    return {\r\n        ...state,\r\n        search: action.payload.search as string,\r\n        pagination: {\r\n            ...state.pagination,\r\n            page: 1\r\n        }\r\n    };\r\n}\r\n\r\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State {\r\n    return {\r\n        ...state,\r\n        pagination: {\r\n            ...state.pagination,\r\n            page: action.payload.page,\r\n        }\r\n    }\r\n}\r\n\r\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State {\r\n    return {\r\n        ...state,\r\n        pagination: {\r\n            ...state.pagination,\r\n            per_page: action.payload.per_page,\r\n        }\r\n    }\r\n}\r\n\r\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State {\r\n    return {\r\n        ...state,\r\n        pagination:{\r\n          ...state.pagination,\r\n          page: 1\r\n        },\r\n        order: {\r\n            sort: action.payload.sort,\r\n            dir: action.payload.dir,\r\n        }\r\n    }\r\n}\r\n\r\nfunction setReset(state = INITIAL_STATE, action){\r\n    return action.payload.state;\r\n}\r\n\r\nfunction updateExtraFilter(state = INITIAL_STATE, action: UpdateExtraFilterAction){\r\n    return {\r\n        ...state,\r\n        extraFilter : {\r\n            ...state.extraFilter,\r\n            ...action.payload\r\n        }\r\n    }\r\n}\r\n","import {Dispatch, Reducer, useCallback, useEffect, useMemo, useReducer, useState} from \"react\";\r\nimport reducer, {Creators} from \"../store/filter\";\r\nimport {Actions as FilterActions, State as FilterState} from \"../store/filter/types\";\r\nimport {MUIDataTableColumn} from \"mui-datatables\";\r\nimport {useDebounce} from 'use-debounce';\r\nimport {useHistory, useLocation} from 'react-router'\r\nimport {isEqual} from 'lodash'\r\nimport * as yup from '../util/vendor/yup';\r\nimport {TableComponent} from '../components/Table'\r\nimport {ObjectSchema} from \"yup\";\r\n\r\ninterface FilterManagerOptions {\r\n    schema: ObjectSchema,\r\n    columns: MUIDataTableColumn[];\r\n    rowsPerPage: number;\r\n    tableRef: React.MutableRefObject<TableComponent>;\r\n    dispatch:  Dispatch<FilterActions> ;\r\n    state: FilterState;\r\n}\r\n\r\ninterface ExtraFilter {\r\n    getStateFromURL: (queryParams: URLSearchParams) => any,\r\n    formatSearchParams: (debouncedState: FilterState) => any,\r\n    createValidationSchema: () => any,\r\n}\r\n\r\ninterface UseFilterOptions {\r\n    columns: MUIDataTableColumn[];\r\n    rowsPerPage: number;\r\n    rowsPerPageOptions: number[];\r\n    debounceTime: number\r\n    tableRef: React.MutableRefObject<TableComponent>\r\n    extraFilter?: ExtraFilter\r\n}\r\n\r\nexport default function useFilter(options: UseFilterOptions) {\r\n    const history = useHistory();\r\n    const location = useLocation()\r\n    const {search: locationSearch, pathname: locationPathName, state: locationState} = location;\r\n    const {rowsPerPage, rowsPerPageOptions, extraFilter, columns} = options;\r\n\r\n    const schema = useMemo(() => {\r\n        return yup.object().shape<any>({\r\n            search: yup.string()\r\n                .transform(value => !value ? undefined : value)\r\n                .default(''),\r\n            pagination: yup.object().shape(({\r\n                page: yup.number()\r\n                    .transform(value => isNaN(value) || parseInt(value) < 1 ? undefined : value)\r\n                    .default(1),\r\n                per_page: yup.number()\r\n                    .transform(value => isNaN(value) || !rowsPerPageOptions.includes(parseInt(value)) ? undefined : value)\r\n                    .default(rowsPerPage),\r\n            })),\r\n            order: yup.object().shape({\r\n                sort: yup.string()\r\n                    .nullable()\r\n                    .transform(value => {\r\n                        const columnsName = columns.filter(column => !column.options || column.options.sort !== false)\r\n                            .map(column => column.name)\r\n                        return columnsName.includes(value) ? value : undefined;\r\n                    })\r\n                    .default(null),\r\n                dir: yup.string()\r\n                    .nullable()\r\n                    .transform(value => !value || ['asc', 'desc'].includes(value.toLowerCase()) ? undefined : value)\r\n                    .default(null),\r\n            }),\r\n            ...(\r\n                extraFilter && {\r\n                    extraFilter: extraFilter.createValidationSchema()\r\n                }\r\n            )\r\n        });\r\n    }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter]);\r\n\r\n    const stateFromUrl = useMemo<FilterState>(() => {\r\n        const queryParams = new URLSearchParams(locationSearch.substr(1))\r\n        return schema.cast({\r\n            search: queryParams.get('search'),\r\n            pagination: {\r\n                page: queryParams.get('page'),\r\n                per_page: queryParams.get('per_page'),\r\n            },\r\n            order: {\r\n                sort: queryParams.get('sort'),\r\n                dir: queryParams.get('dir')\r\n            },\r\n            ...(\r\n                extraFilter && {\r\n                    extraFilter: extraFilter.getStateFromURL(queryParams)\r\n                }\r\n            )\r\n        });\r\n    }, [locationSearch, schema, extraFilter]);\r\n\r\n    const cleanSearchText = useCallback((text) => {\r\n        let newText = text;\r\n        if (text && text.value !== undefined) {\r\n            newText = text.value;\r\n        }\r\n        return newText;\r\n    }, []);\r\n\r\n    const formatSearchParams = useCallback((state, extraFilter) => {\r\n        const search = cleanSearchText(state.search);\r\n        return {\r\n            ...(search && search !== '' && {search: search}),\r\n            ...(state.pagination.page !== 1 && {page: state.pagination.page}),\r\n            ...(state.pagination.per_page !== 15 && {per_page: state.pagination.per_page}),\r\n            ...(\r\n                state.order.sort && {\r\n                    sort: state.order.sort,\r\n                    dir: state.order.dir\r\n                }\r\n            ),\r\n            ...(\r\n                extraFilter && extraFilter.formatSearchParams(state)\r\n            )\r\n        }\r\n    }, [cleanSearchText]);\r\n    const INITIAL_STATE = stateFromUrl;\r\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE);\r\n    const filterManager = new FilterManager({...options, state: filterState, dispatch, schema});\r\n    const [debouncedFilterState] = useDebounce(filterState, options.debounceTime)\r\n    const [totalRecords, setTotalRecords] = useState<number>(0);\r\n\r\n    useEffect( () => {\r\n        history.replace({\r\n            pathname: locationPathName,\r\n            search: \"?\" + new URLSearchParams(formatSearchParams(stateFromUrl, extraFilter ) as any),\r\n            state: stateFromUrl\r\n        })\r\n    },[\r\n        history,\r\n        locationPathName,\r\n        formatSearchParams,\r\n        stateFromUrl,\r\n        extraFilter]);\r\n\r\n    useEffect(()  => {\r\n        const newLocation = {\r\n            pathName: locationPathName,\r\n            search: \"?\" + new URLSearchParams(formatSearchParams(debouncedFilterState, extraFilter)),\r\n            state: {\r\n                ...debouncedFilterState,\r\n                search: cleanSearchText(debouncedFilterState.search)\r\n            }\r\n        };\r\n        const oldState = locationState;\r\n        const nextState = debouncedFilterState;\r\n\r\n        if (isEqual(oldState, nextState)) {\r\n            return;\r\n        }\r\n\r\n        history.push(newLocation);\r\n    },[history,\r\n            locationPathName,\r\n            formatSearchParams,\r\n            locationState,\r\n            cleanSearchText,\r\n            debouncedFilterState,\r\n            extraFilter]);\r\n\r\n    filterManager.state = filterState;\r\n\r\n    filterManager.applyOrderInColumn();\r\n\r\n    return {\r\n        columns: filterManager.columns,\r\n        cleanSearchText,\r\n        filterManager,\r\n        filterState,\r\n        debouncedFilterState,\r\n        dispatch,\r\n        totalRecords,\r\n        setTotalRecords\r\n    }\r\n}\r\n\r\nexport class FilterManager {\r\n    schema\r\n    state: FilterState;\r\n    dispatch: Dispatch<FilterActions>;\r\n    columns: MUIDataTableColumn[];\r\n    rowsPerPage: number;\r\n    tableRef: React.MutableRefObject<TableComponent>;\r\n\r\n    constructor(options: FilterManagerOptions) {\r\n        const {\r\n            schema,\r\n            columns,\r\n            rowsPerPage,\r\n            tableRef,\r\n            dispatch,\r\n            state\r\n        } = options;\r\n        this.schema = schema;\r\n        this.columns = columns;\r\n        this.rowsPerPage = rowsPerPage;\r\n        this.tableRef = tableRef;\r\n        this.dispatch = dispatch;\r\n        this.state = state;\r\n    }\r\n\r\n    private resetTablePagination() {\r\n        this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\r\n        this.tableRef.current.changePage(0);\r\n    }\r\n\r\n    changeSearch(value) {\r\n        this.dispatch(Creators.setSearch({search: value}))\r\n    }\r\n\r\n    changePage(page) {\r\n        this.dispatch(Creators.setPage({page: page + 1}))\r\n    }\r\n\r\n    changeRowsPerPage(perPage) {\r\n        this.dispatch(Creators.setPerPage({per_page: perPage}))\r\n    }\r\n\r\n    changeColumnSort(changeColumn: string, direction: string) {\r\n        this.dispatch(Creators.setOrder({\r\n                sort: changeColumn as any,\r\n                dir: direction.includes('desc') ? 'desc' : 'asc'\r\n            })\r\n        );\r\n        this.resetTablePagination()\r\n    }\r\n\r\n    changeExtraFilter(data) {\r\n        this.dispatch(Creators.updateExtraFilter(data));\r\n    }\r\n\r\n    resetFilter() {\r\n        const INITIAL_STATE = {\r\n            ...this.schema.cast({}),\r\n            search: {value: null, update: true}\r\n        };\r\n        this.dispatch(Creators.setReset({\r\n            state: INITIAL_STATE\r\n        }));\r\n        this.resetTablePagination();\r\n    }\r\n\r\n    applyOrderInColumn() {\r\n        this.columns = this.columns.map(column => {\r\n            return column.name === this.state.order.sort\r\n                ? {\r\n                    ...column,\r\n                    options: {\r\n                        ...column.options,\r\n                        sortDirection: this.state.order.dir as any\r\n                    }\r\n                }\r\n                : column;\r\n        });\r\n    }\r\n}","/* eslint-disable no-template-curly-in-string */\r\nimport {addMethod, LocaleObject, number, NumberSchema, setLocale} from 'yup';\r\n\r\nconst ptBR: LocaleObject = {\r\n    mixed:{\r\n        required: '${path} é requerido',\r\n        notType: '${path} é inválido'\r\n    },\r\n    string: {\r\n        max: '${path} precisa ter no máximo ${max} caracteres'\r\n    },\r\n    number:{\r\n        min: '$path} precisa ser no mínimo ${min}'\r\n    }\r\n}\r\nsetLocale(ptBR);\r\n\r\naddMethod<NumberSchema>(number, 'xpto', function(){\r\n    return this.test({\r\n        message: 'message error',\r\n        test: (value) => {\r\n            return true;\r\n        }\r\n    })\r\n})\r\n\r\nexport * from 'yup';\r\n","import {createContext} from 'react';\r\nconst LoadingContext = createContext(false);\r\nexport default LoadingContext;\r\n","import * as React from 'react';\r\nimport {useContext, useEffect, useRef, useState} from \"react\";\r\nimport format from 'date-fns/format'\r\nimport parseISO from 'date-fns/parseISO'\r\nimport categoryHttp from \"../../util/http/category-http\";\r\nimport {BadgeNo, BadgeYes} from \"../../components/Badge\";\r\nimport {ListResponse, Category} from \"../../util/model\";\r\nimport DefaultTable, {makeActionStyles, TableColumn, TableComponent} from '../../components/Table';\r\nimport {useSnackbar} from \"notistack\";\r\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\r\nimport useFilter from \"../../hooks/useFilter\";\r\nimport LoadingContext from \"../../components/loading/LoadingContext\";\r\n\r\nconst columnsDefinitions: TableColumn[] = [\r\n    {\r\n        name: 'id',\r\n        label: 'ID',\r\n        width: '30%',\r\n        options: {\r\n            sort: false,\r\n            filter: false\r\n        }\r\n    },\r\n    {\r\n        name: \"name\",\r\n        label: \"Nome\",\r\n        width: '43%',\r\n        options: {\r\n            filter: false\r\n        }\r\n    },\r\n    {\r\n        name: \"is_active\",\r\n        label: \"Ativo?\",\r\n        width: '4%',\r\n        options: {\r\n         filterOptions:{\r\n           names: ['Sim', 'Não']\r\n         },\r\n            customBodyRender(value, tableMeta, updateValue) {\r\n                return value ? <BadgeYes/> : <BadgeNo/>\r\n            }\r\n        },\r\n    },\r\n    {\r\n        name: \"created_at\",\r\n        label: \"Criado em\",\r\n        width: '10%',\r\n        options: {\r\n            filter: false,\r\n            customBodyRender(value, tableMeta, updateValue) {\r\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'actions',\r\n        label: 'Ações',\r\n        width: '13%',\r\n        options: {\r\n            sort: false,\r\n            filter: false,\r\n            customBodyRender: (value, tableMeta, updateValue) => {\r\n                return (\r\n                    <span>\r\n                        <IconButton\r\n                            color={'secondary'}\r\n                            component={Link}\r\n                            to={`/categories/${tableMeta.rowData[0]}/edit`}\r\n                        >\r\n                            <EditIcon/>\r\n                        </IconButton>\r\n                    </span>\r\n                )\r\n            }\r\n        }\r\n    }\r\n];\r\n\r\nconst debounceTime = 300;\r\nconst debouncedSearchTime = 300;\r\nconst rowsPerPage = 15;\r\nconst rowsPerPageOptions =  [15, 20, 50];\r\n\r\nconst Table = () => {\r\n    const snackbar = useSnackbar();\r\n    const subscribed = useRef(true);\r\n    const [data, setData] = useState<Category[]>([])\r\n    const loading = useContext(LoadingContext);\r\n    const tableRef = useRef() as React.MutableRefObject<TableComponent>;\r\n\r\n    const {\r\n        columns,\r\n        filterManager,\r\n        cleanSearchText,\r\n        filterState,\r\n        debouncedFilterState,\r\n        totalRecords,\r\n        setTotalRecords\r\n    } = useFilter({\r\n        columns: columnsDefinitions,\r\n        debounceTime: debounceTime,\r\n        rowsPerPage,\r\n        rowsPerPageOptions,\r\n        tableRef\r\n    });\r\n\r\n    useEffect(() => {\r\n        subscribed.current = true;\r\n        getData();\r\n        return () => {\r\n            subscribed.current = false;\r\n        }\r\n\r\n    }, [\r\n        cleanSearchText(debouncedFilterState.search),\r\n        debouncedFilterState.pagination.page,\r\n        debouncedFilterState.pagination.per_page,\r\n        debouncedFilterState.order\r\n    ]);\r\n\r\n\r\n    async function getData() {\r\n        try {\r\n            const {data} = await categoryHttp.list<ListResponse<Category>>({\r\n                queryParams: {\r\n                    search: cleanSearchText(filterState.search),\r\n                    page: filterState.pagination.page,\r\n                    per_page: filterState.pagination.per_page,\r\n                    sort: filterState.order.sort,\r\n                    dir: filterState.order.dir,\r\n                }\r\n            });\r\n            if (subscribed.current) {\r\n                setData(data.data);\r\n                setTotalRecords(data.meta.total)\r\n            }\r\n        } catch (error) {\r\n            if (categoryHttp.isCancelledRequest(error)) {\r\n                return;\r\n            }\r\n            snackbar.enqueueSnackbar(\r\n                'Não foi possivel carregar as informações',\r\n                {variant: 'error',}\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\r\n            <DefaultTable\r\n                title={\"\"}\r\n                columns={columns}\r\n                data={data}\r\n                isLoading={loading}\r\n                debouncedSearchTime={debouncedSearchTime}\r\n                ref={tableRef}\r\n                options={{\r\n                    serverSide: true,\r\n                    responsive: \"scrollMaxHeight\",\r\n                    searchText: filterState.search as any,\r\n                    page: filterState.pagination.page - 1,\r\n                    rowsPerPage: filterState.pagination.per_page,\r\n                    rowsPerPageOptions,\r\n                    count: totalRecords,\r\n                    customToolbar: () => (\r\n                        <FilterResetButton\r\n                            handleClick={() => filterManager.resetFilter()}\r\n                        />\r\n                    ),\r\n                    onSearchChange: (value) => filterManager.changeSearch(value),\r\n                    onChangePage: (page) => filterManager.changePage(page),\r\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\r\n                    onColumnSortChange: (changeColumn: string, direction: string) =>\r\n                        filterManager.changeColumnSort(changeColumn, direction)\r\n                }}\r\n            />\r\n        </MuiThemeProvider>\r\n    );\r\n};\r\n\r\nexport default Table;\r\n","import * as React from \"react\";\r\nimport { Page } from \"../../components/Page\";\r\nimport { Box, Fab } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Table from \"./Table\";\r\n\r\nconst PageList = () => {\r\n  return (\r\n    <Page title={\"Listagem de Categorias\"}>\r\n      <Box dir={\"rtl\"} paddingBottom={2}>\r\n        <Fab\r\n          title={\"Adicionar categoria\"}\r\n          color={\"secondary\"}\r\n          size={\"small\"}\r\n          component={Link}\r\n          to={\"categories/create\"}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Box>\r\n      <Box>\r\n        <Table />\r\n      </Box>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PageList;\r\n","// @flow\r\nimport * as React from 'react';\r\nimport {Box, Button, ButtonProps, Theme} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles=makeStyles((theme: Theme) => {\r\n    return {\r\n        submit:{\r\n            margin: theme.spacing(1)\r\n        }\r\n    }\r\n});\r\n\r\ninterface SubmitActionsProps {\r\n    disabledButtons: boolean;\r\n    handleSave: () => void\r\n}\r\n\r\nconst SubmitActions : React.FC<SubmitActionsProps> = (props) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const buttonProps : ButtonProps = {\r\n        className: classes.submit,\r\n        color: 'secondary',\r\n        variant: \"contained\",\r\n        disabled: props.disabledButtons === undefined ? false : props.disabledButtons,\r\n    };\r\n\r\n    return (\r\n        <Box dir={\"rtr\"}>\r\n            <Button color={\"primary\"} {...buttonProps} onClick={props.handleSave}>Salvar</Button>\r\n            <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default SubmitActions;\r\n","import * as React from 'react';\r\nimport {Grid, GridProps } from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    gridItem: {\r\n        padding: theme.spacing(1,0)\r\n    },\r\n}));\r\n\r\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>{\r\n    GridContainerProps?:GridProps;\r\n    GridItemProps?:GridProps;\r\n}\r\n\r\nexport const DefaultForm : React.FC<DefaultFormProps>= (props) => {\r\n    const classes = useStyles();\r\n    const {GridContainerProps, GridItemProps, ...other} = props;\r\n\r\n    return (\r\n        <form {...other}>\r\n            <Grid container {...GridContainerProps}>\r\n                <Grid className={classes.gridItem} item {...GridItemProps} >\r\n                    {props.children}\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {TextField, Checkbox, FormControlLabel} from \"@material-ui/core\";\r\nimport categoryHttp from \"../../util/http/category-http\";\r\nimport * as yup from '../../util/vendor/yup';\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {useParams, useHistory} from 'react-router'\r\nimport {useSnackbar} from \"notistack\";\r\nimport {Category} from \"../../util/model\";\r\nimport SubmitActions from \"../../components/SubmitActions\";\r\nimport {DefaultForm} from \"../../components/DefaultForm\";\r\nimport useForm from \"react-hook-form\";\r\nimport LoadingContext from \"../../components/loading/LoadingContext\";\r\n\r\nconst validationSchema  = yup.object().shape({\r\n    name: yup.string()\r\n        .label('Nome')\r\n        .required()\r\n        .max(255)\r\n});\r\n\r\nexport const Form = () => {\r\n    const {register,\r\n           handleSubmit,\r\n           getValues,\r\n           setValue,\r\n           errors,\r\n           reset,\r\n           watch,\r\n           triggerValidation\r\n    } = useForm({\r\n            validationSchema,\r\n        defaultValues:{\r\n                name:'',\r\n            is_active:true\r\n        },\r\n    });\r\n\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    const history = useHistory();\r\n    const {id} = useParams();\r\n    const [category, setCategory] = useState< Category  | null>(null);\r\n    const loading = useContext(LoadingContext);\r\n\r\n    useEffect(() => {\r\n        register({name: 'is_active'})\r\n    },[register]);\r\n\r\n    useEffect(() => {\r\n        if(!id) {\r\n            return;\r\n        }\r\n        async function getCategory(){\r\n            try{\r\n                const {data} = await categoryHttp.get(id);\r\n                setCategory(data.data);\r\n                reset(data.data);\r\n            } catch(error) {\r\n                enqueueSnackbar(\r\n                    'Não foi possivel carregar as informações',\r\n                    {variant: 'error',}\r\n                )\r\n            }\r\n        }\r\n        getCategory();\r\n    }, [id, reset, enqueueSnackbar]);\r\n\r\n    async function onSubmit(formData, event) {\r\n        try {\r\n            const http = !category\r\n                ? categoryHttp.create(formData)\r\n                : categoryHttp.update(category.id, formData)\r\n            const {data} = await http;\r\n            enqueueSnackbar('Categoria salva com sucesso', {\r\n                variant: 'success'\r\n            });\r\n            setTimeout(() => {\r\n                event\r\n                    ? (\r\n                        id ? history.replace(`/categories/${data.data.id}/edit`)\r\n                            : history.push(`/categories/${data.data.id}/edit`)\r\n                    )\r\n                    : history.push('/categories')\r\n            });\r\n        } catch (error) {\r\n            enqueueSnackbar(error.message,\r\n                { variant: 'error'}\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DefaultForm GridItemProps={{xs:12, md:6}} onSubmit={handleSubmit(onSubmit)} >\r\n            <TextField\r\n            name=\"name\"\r\n            inputRef={register}\r\n            label=\"Nome\"\r\n            fullWidth\r\n            variant={\"outlined\"}\r\n            disabled={loading}\r\n            error={errors.name !== undefined}\r\n            helperText={errors.name && errors.name.message}\r\n            InputLabelProps={{shrink:true}}\r\n            />\r\n            <TextField\r\n                name=\"description\"\r\n                inputRef={register}\r\n                disabled={loading}\r\n                label=\"Descrição\"\r\n                multiline\r\n                rows={4}\r\n                fullWidth\r\n                variant={\"outlined\"}\r\n                margin={\"normal\"}\r\n                InputLabelProps={{shrink:true}}\r\n            />\r\n            <FormControlLabel\r\n                control={\r\n                    <Checkbox\r\n                    name=\"is_active\"\r\n                    color={'primary'}\r\n                    onChange={() => setValue('is_active', !getValues()['is_active'])}\r\n                    checked={watch('is_active')}\r\n\r\n                    />\r\n                }\r\n                label={'Ativo?'}\r\n                labelPlacement={'end'}\r\n            />\r\n            <SubmitActions disabledButtons={loading}\r\n                           handleSave={()=> triggerValidation().then(isValid => {\r\n                               isValid  && onSubmit(getValues(),null)\r\n                           })\r\n                               } />\r\n</DefaultForm>\r\n\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {Form} from './Form';\r\nimport {Page} from '../../components/Page';\r\nimport {useParams} from 'react-router'\r\n\r\nconst PageForm = () => {\r\n    const {id} = useParams();\r\n    return (\r\n        <div>\r\n            <Page title={ !id ?'Criar categoria': 'Editar Categoria'}>\r\n                <Form/>\r\n            </Page>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageForm;\r\n","export interface ListResponse<T>{\r\n    data: T[];\r\n    links: {\r\n        first: string;\r\n        last: string;\r\n        prev: string | null;\r\n        next: string | null;\r\n    };\r\n    meta: {\r\n        current_page: number;\r\n        from: number;\r\n        last_page: number;\r\n        path: string;\r\n        per_page: number;\r\n        to: number;\r\n        total: number;\r\n    }\r\n}\r\n\r\ninterface Timestampable{\r\n    readonly created_at: string;\r\n    readonly deleted_at: string;\r\n    readonly updated_at: string;\r\n}\r\n\r\nexport interface Category extends Timestampable {\r\n    readonly id: string;\r\n    name: string,\r\n    description: string;\r\n    is_active: boolean;\r\n}\r\n\r\nexport interface CastMember extends Timestampable {\r\n    readonly id: string;\r\n    name: string,\r\n    type: number;\r\n}\r\n\r\nexport const CastMemberTypeMap = {\r\n    0: 'Diretor',\r\n    1: 'Ator'\r\n};\r\n\r\nexport interface Genre extends Timestampable {\r\n    readonly  id: string;\r\n    name: string;\r\n    is_active: number;\r\n    categories: Category[];\r\n}\r\n\r\ninterface GenreVideo extends Omit<Genre, 'categories'>{\r\n\r\n}\r\n\r\nexport const VideoFileFieldsMap = {\r\n    'thumb_file' : 'Thumbnail',\r\n    'banner_file' : 'Banner',\r\n    'trailer_file' : 'Trailer',\r\n    'video_file' : 'Principal'\r\n}\r\n\r\nexport interface Video extends Timestampable {\r\n    readonly  id: string;\r\n    title: string;\r\n    description: string;\r\n    year_launched: number;\r\n    opened: boolean;\r\n    rating: string;\r\n    duration: number;\r\n    genres: GenreVideo[];\r\n    categories: Category[];\r\n    cast_members: CastMember[];\r\n    thumb_file_url: string;\r\n    banner_file_url: string;\r\n    trailer_file_url: string;\r\n    video_file_url: string;\r\n}","import HttpResource from \"./http-resource\";\r\nimport {httpVideo} from \"./index\";\r\n\r\nconst castMemberHttp = new HttpResource(httpVideo, 'cast_members');\r\n\r\nexport default castMemberHttp;\r\n","import * as React from 'react';\r\nimport {useCallback, useEffect, useMemo, useRef, useState} from \"react\";\r\nimport format from 'date-fns/format'\r\nimport parseISO from 'date-fns/parseISO'\r\nimport {CastMember, ListResponse, CastMemberTypeMap} from \"../../util/model\";\r\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DefaultTable, {makeActionStyles, TableColumn, TableComponent} from \"../../components/Table\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport useFilter from \"../../hooks/useFilter\";\r\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\r\nimport * as yup from '../../util/vendor/yup';\r\nimport castMemberHttp from \"../../util/http/cast-member-http\";\r\nimport {invert} from 'lodash';\r\n\r\nconst castMemberNames = Object.values(CastMemberTypeMap);\r\n\r\nconst columnsDefinitions: TableColumn[] = [\r\n    {\r\n        name: \"id\",\r\n        label: \"Id\",\r\n        width: '30%',\r\n        options: {\r\n            sort: false,\r\n            filter: false\r\n        }\r\n    },\r\n    {\r\n        name: \"name\",\r\n        label: \"Nome\",\r\n        width: '43%',\r\n        options: {\r\n            filter: false\r\n        }\r\n    },\r\n    {\r\n        name: \"type\",\r\n        label: \"Tipo\",\r\n        width: '4%',\r\n        options: {\r\n            filterOptions: {\r\n                names: castMemberNames\r\n            },\r\n            customBodyRender: (value, tableMeta, updateValue) => {\r\n                return CastMemberTypeMap[value];\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: \"created_at\",\r\n        label: \"Criado em\",\r\n        width: '10%',\r\n        options: {\r\n            customBodyRender(value, tableMeta, updateValue) {\r\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'actions',\r\n        label: 'Ações',\r\n        width: '13%',\r\n        options: {\r\n            sort: false,\r\n            customBodyRender: (value, tableMeta, updateValue) => {\r\n                return (\r\n                    <span>\r\n                        <IconButton\r\n                            color={'secondary'}\r\n                            component={Link}\r\n                            to={`/cast-members/${tableMeta.rowData[0]}/edit`}\r\n                        >\r\n                            <EditIcon/>\r\n                        </IconButton>\r\n                    </span>\r\n                )\r\n            }\r\n        }\r\n    }\r\n];\r\n\r\nconst debounceTime = 300;\r\nconst debouncedSearchTime = 300;\r\nconst rowsPerPage = 15;\r\nconst rowsPerPageOptions = [15, 20, 50];\r\n\r\nconst Table = () => {\r\n        const {enqueueSnackbar} = useSnackbar();\r\n        const subscribed = useRef(true);\r\n        const [data, setData] = useState<CastMember[]>([]);\r\n        const [loading, setLoading] = useState<boolean>(false);\r\n        const tableRef = useRef() as React.MutableRefObject<TableComponent>;\r\n\r\n        const extraFilter = useMemo(() => ({\r\n            createValidationSchema: () => {\r\n                return yup.object().shape({\r\n                    type: yup.string()\r\n                        .nullable()\r\n                        .oneOf(castMemberNames)\r\n                        .transform(value => {\r\n                            return !value || !castMemberNames.includes(value) ? undefined : value;\r\n                        })\r\n                        .default(null)\r\n                })\r\n            },\r\n            formatSearchParams: (debouncedState) => {\r\n                return debouncedState.extraFilter ? {\r\n                    ...(\r\n                        debouncedState.extraFilter.type &&\r\n                        {type: debouncedState.extraFilter.type}\r\n                    ),\r\n                } : undefined\r\n            },\r\n            getStateFromURL: (queryParams) => {\r\n                return {\r\n                    type: queryParams.get('type')\r\n                }\r\n            }\r\n        }), []);\r\n\r\n        const {\r\n            columns,\r\n            filterManager,\r\n            cleanSearchText,\r\n            filterState,\r\n            debouncedFilterState,\r\n            totalRecords,\r\n            setTotalRecords\r\n        } = useFilter({\r\n            columns: columnsDefinitions,\r\n            debounceTime: debounceTime,\r\n            rowsPerPage,\r\n            rowsPerPageOptions,\r\n            tableRef,\r\n            extraFilter\r\n        });\r\n\r\n        const searchText = cleanSearchText(filterState.search);\r\n        const indexColumnType = columns.findIndex(c => c.name === 'type');\r\n        const columnType = columns[indexColumnType];\r\n        const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\r\n        (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : [];\r\n\r\n        const serverSideFilterList = columns.map(column => []);\r\n        if (typeFilterValue) {\r\n            serverSideFilterList[indexColumnType] = [typeFilterValue]\r\n        }\r\n        const getData = useCallback(async ({search, page, per_page, sort, dir, type}) => {\r\n                setLoading(true);\r\n                try {\r\n                    const {data} = await castMemberHttp.list<ListResponse<CastMember>>({\r\n                        queryParams: {\r\n                            search,\r\n                            page,\r\n                            per_page,\r\n                            sort,\r\n                            dir,\r\n                            ...(type && {\r\n                                type: invert(CastMemberTypeMap)[\r\n                                    type\r\n                                    ],\r\n                            }),\r\n                        },\r\n                    });\r\n                    if (subscribed.current) {\r\n                        setData(data.data);\r\n                        setTotalRecords(data.meta.total)\r\n                    }\r\n                } catch\r\n                    (error) {\r\n                    if (castMemberHttp.isCancelledRequest(error)) {\r\n                        return;\r\n                    }\r\n                    enqueueSnackbar(\r\n                        'Não foi possivel carregar as informações',\r\n                        {variant: 'error',}\r\n                    )\r\n                } finally {\r\n                    setLoading(false);\r\n                }\r\n            },\r\n            [enqueueSnackbar, setTotalRecords]\r\n            );\r\n\r\n        useEffect(() => {\r\n            subscribed.current = true;\r\n            getData({\r\n\r\n                search: searchText,\r\n                page: filterState.pagination.page,\r\n                per_page: filterState.pagination.per_page,\r\n                sort: filterState.order.sort,\r\n                dir: filterState.order.dir,\r\n                ...(debouncedFilterState.extraFilter &&\r\n                    debouncedFilterState.extraFilter.type &&\r\n                    {\r\n                        type: debouncedFilterState.extraFilter.type\r\n                    }),\r\n            });\r\n            return () => {\r\n                subscribed.current = false;\r\n            }\r\n        }, [\r\n            getData,\r\n            searchText,\r\n            debouncedFilterState.pagination.page,\r\n            debouncedFilterState.pagination.per_page,\r\n            debouncedFilterState.order,\r\n            debouncedFilterState.extraFilter,\r\n        ]);\r\n\r\n        return (\r\n            <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\r\n                <DefaultTable\r\n                    title={\"\"}\r\n                    columns={columns}\r\n                    data={data}\r\n                    isLoading={loading}\r\n                    debouncedSearchTime={debouncedSearchTime}\r\n                    ref={tableRef}\r\n                    options={{\r\n                        serverSideFilterList,\r\n                        serverSide: true,\r\n                        responsive: \"scrollMaxHeight\",\r\n                        searchText: filterState.search as any,\r\n                        page: filterState.pagination.page - 1,\r\n                        rowsPerPage: filterState.pagination.per_page,\r\n                        rowsPerPageOptions,\r\n                        count: totalRecords,\r\n                        onFilterChange: (column, filterList, type) => {\r\n                            const columnIndex = columns.findIndex(c => c.name === column);\r\n                            filterManager.changeExtraFilter({\r\n                                [column as any]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\r\n                            })\r\n                        },\r\n                        customToolbar: () => (\r\n                            <FilterResetButton\r\n                                handleClick={() => filterManager.resetFilter()}\r\n                            />\r\n                        ),\r\n                        onSearchChange: (value) => filterManager.changeSearch(value),\r\n                        onChangePage: (page) => filterManager.changePage(page),\r\n                        onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\r\n                        onColumnSortChange: (changeColumn: string, direction: string) =>\r\n                            filterManager.changeColumnSort(changeColumn, direction)\r\n                    }}\r\n                />\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n;\r\n\r\nexport default Table;\r\n","import * as React from 'react';\r\nimport {Page} from \"../../components/Page\";\r\nimport {Box, Fab} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Table from \"./Table\";\r\n\r\nconst PageList = () => {\r\n    return (\r\n        <Page title={\"Listagem de Mebros do Elenco\"}>\r\n            <Box dir={'rtl'} paddingBottom={2}>\r\n                <Fab\r\n                    title={\"Adicionar memrbos\"}\r\n                    color={'secondary'}\r\n                    size={\"small\"}\r\n                    component={Link}\r\n                    to={\"cast-members/create\"}\r\n                >\r\n                    <AddIcon/>\r\n                </Fab>\r\n            </Box>\r\n            <Box>\r\n                <Table/>\r\n            </Box>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default PageList;\r\n","import * as React from 'react';\r\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\r\nimport {useEffect, useState} from \"react\";\r\nimport castMemberHttp from \"../../util/http/cast-member-http\";\r\nimport {useParams, useHistory} from 'react-router'\r\nimport {\r\n    Box,\r\n    Button,\r\n    ButtonProps,\r\n    FormControl,\r\n    FormControlLabel, FormHelperText,\r\n    FormLabel,\r\n    Radio,\r\n    RadioGroup,\r\n    TextField\r\n} from \"@material-ui/core\";\r\n\r\nimport useForm from \"react-hook-form\";\r\nimport * as yup from \"../../util/vendor/yup\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport {CastMember} from \"../../util/model\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return {\r\n        submit: {\r\n            margin: theme.spacing(1)\r\n        }\r\n    }\r\n});\r\n\r\nconst validationSchema  = yup.object().shape({\r\n    name: yup.string()\r\n        .label('Nome')\r\n        .required()\r\n        .max(255),\r\n    type: yup.number()\r\n        .label('Tipo')\r\n        .required(),\r\n});\r\n\r\nexport const Form = () => {\r\n    const {register, handleSubmit, getValues, setValue, errors, reset, watch} = useForm({\r\n        validationSchema,\r\n    });\r\n\r\n    const classes = useStyles();\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    const history = useHistory();\r\n    const {id} = useParams();\r\n    const [castMember, setCastMember] = useState< CastMember | null>(null);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n\r\n    const buttonProps: ButtonProps ={\r\n        className: classes.submit,\r\n        color: 'secondary',\r\n        variant: \"contained\",\r\n        disabled: loading\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(!id){\r\n            return;\r\n        }\r\n\r\n        async function getCastMember(){\r\n            setLoading(true);\r\n            try{\r\n                const {data} = await castMemberHttp.get(id)\r\n                setCastMember(data.data);\r\n                reset(data.data);\r\n            } catch(error) {\r\n                enqueueSnackbar(\r\n                    'Não foi possivel carregas as informações',\r\n                    { variant: 'error',}\r\n                )\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        getCastMember();\r\n    }, [id, reset, enqueueSnackbar])\r\n\r\n    useEffect(() => {\r\n        register({name: 'type'})\r\n    }, [register]);\r\n\r\n    async function onSubmit(formData, event) {\r\n        setLoading(true);\r\n\r\n        try{\r\n            const http = !castMember\r\n                ?castMemberHttp.create({})\r\n                : castMemberHttp.update(castMember.id, formData);\r\n            const {data} = await http;\r\n            enqueueSnackbar(\r\n                'Membro de elenco salvo com sucesso',\r\n                {variant: 'success'}\r\n            );\r\n            setTimeout( () =>{\r\n               event\r\n               ?(\r\n                   id\r\n                   ? history.replace(`/cast-members/${data.data.id}/edit`)\r\n                       : history.push(`/cast-members/${data.data.id}/edit`)\r\n                   )\r\n                   : history.push('/cast-members')\r\n            });\r\n        } catch(error) {\r\n            enqueueSnackbar(\r\n                'Não foi possivel salvar o membro de elenco',\r\n                {variant: 'error'}\r\n            )\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <TextField\r\n                name='name'\r\n                label='Nome'\r\n                fullWidth\r\n                variant={'outlined'}\r\n                inputRef={register}\r\n                disabled={loading}\r\n                error={errors.name !== undefined}\r\n                helperText={errors.name && errors.name.message}\r\n                InputLabelProps={{shrink: true}}\r\n                />\r\n\r\n            <FormControl\r\n                margin={\"normal\"}\r\n                error={errors.type !== undefined}\r\n                disabled={loading}\r\n            >\r\n            <FormLabel component={'legend'}>Tipo</FormLabel>\r\n            <RadioGroup\r\n                name={'type'}\r\n                onChange={(e) => {\r\n                    setValue('type', parseInt(e.target.value));\r\n                }}\r\n                value={watch('type') + \"\"}\r\n            >\r\n                <FormControlLabel value={'0'} control={<Radio color={'primary'}/>} label={\"Diretor\"}/>\r\n                <FormControlLabel value={'1'} control={<Radio color={'primary'}/>} label={'Ator'}/>\r\n            </RadioGroup>\r\n                {\r\n                    errors.type\r\n                    ? <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\r\n                        : null\r\n                }\r\n            </FormControl>\r\n        <Box dir={'rtl'}>\r\n            <Button {...buttonProps} onClick={()=> onSubmit(getValues(),null)}>Salvar</Button>\r\n            <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\r\n        </Box>\r\n        </form>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {Form} from \"../cast-member/Form\";\r\nimport {Page} from \"../../components/Page\";\r\n\r\ntype Props = {\r\n\r\n};\r\nconst PageForm = (props: Props) => {\r\n    return (\r\n        <div>\r\n            <Page title={'Criar Membros de Elenco'}>\r\n                <Form/>\r\n            </Page>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageForm;\r\n","import HttpResource from \"./http-resource\";\r\nimport {httpVideo} from \"./index\";\r\n\r\nconst genreHttp = new HttpResource(httpVideo, 'genres');\r\n\r\nexport default genreHttp;\r\n","import * as React from \"react\";\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport format from \"date-fns/format\";\r\nimport parseISO from \"date-fns/parseISO\";\r\nimport {\r\n  CastMemberTypeMap,\r\n  Category,\r\n  Genre,\r\n  ListResponse,\r\n} from \"../../util/model\";\r\nimport genreHttp from \"../../util/http/genre-http\";\r\nimport { IconButton, MuiThemeProvider } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DefaultTable, {\r\n  makeActionStyles,\r\n  TableColumn,\r\n  TableComponent,\r\n} from \"../../components/Table\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport useFilter from \"../../hooks/useFilter\";\r\nimport * as yup from \"../../util/vendor/yup\";\r\nimport { FilterResetButton } from \"../../components/Table/FilterResetButton\";\r\nimport { BadgeNo, BadgeYes } from \"../../components/Badge\";\r\nimport categoryHttp from \"../../util/http/category-http\";\r\nimport { invert } from \"lodash\";\r\n\r\nconst columnsDefinitions: TableColumn[] = [\r\n  {\r\n    name: \"id\",\r\n    label: \"Id\",\r\n    width: \"30%\",\r\n    options: {\r\n      sort: false,\r\n      filter: false,\r\n    },\r\n  },\r\n  {\r\n    name: \"name\",\r\n    label: \"Nome\",\r\n    width: \"43%\",\r\n    options: {\r\n      filter: false,\r\n    },\r\n  },\r\n  {\r\n    name: \"is_active\",\r\n    label: \"Ativo?\",\r\n    width: \"4p%\",\r\n    options: {\r\n      customBodyRender(value) {\r\n        return value ? <BadgeYes /> : <BadgeNo />;\r\n      },\r\n    },\r\n  },\r\n  {\r\n    name: \"categories\",\r\n    label: \"Categorias\",\r\n    width: \"20%\",\r\n    options: {\r\n      filterType: \"multiselect\",\r\n      filterOptions: {\r\n        names: [],\r\n      },\r\n      customBodyRender: (value, tableMeta, updateValue) => {\r\n        return value.map((value) => value.name).join(\", \");\r\n      },\r\n    },\r\n  },\r\n  {\r\n    name: \"created_at\",\r\n    label: \"Criado em\",\r\n    options: {\r\n      filter: false,\r\n      customBodyRender(value, tableMeta, updateValue) {\r\n        return <span>{format(parseISO(value), \"dd/MM/yyyy\")}</span>;\r\n      },\r\n    },\r\n  },\r\n  {\r\n    name: \"actions\",\r\n    label: \"Ações\",\r\n    width: \"13%\",\r\n    options: {\r\n      filter: false,\r\n      sort: false,\r\n      customBodyRender: (value, tableMeta, updateValue) => {\r\n        return (\r\n          <span>\r\n            <IconButton\r\n              color={\"secondary\"}\r\n              component={Link}\r\n              to={`/genres/${tableMeta.rowData[0]}/edit`}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  },\r\n];\r\n\r\nconst debounceTime = 300;\r\nconst debouncedSearchTime = 300;\r\nconst rowsPerPage = 15;\r\nconst rowsPerPageOptions = [15, 20, 50];\r\n\r\nconst Table = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const subscribed = useRef(true);\r\n  const [data, setData] = useState<Genre[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [categories, setCategories] = useState<Category[]>();\r\n  const tableRef = useRef() as React.MutableRefObject<TableComponent>;\r\n\r\n  const extraFilter = useMemo(\r\n    () => ({\r\n      createValidationSchema: () => {\r\n        return yup.object().shape({\r\n          categories: yup\r\n            .mixed()\r\n            .nullable()\r\n            .transform((value) => {\r\n              return !value || value === \"\" ? undefined : value.split(\",\");\r\n            })\r\n            .default(null),\r\n        });\r\n      },\r\n      formatSearchParams: (debouncedState) => {\r\n        return debouncedState.extraFilter\r\n          ? {\r\n              ...(debouncedState.extraFilter.type && {\r\n                type: debouncedState.extraFilter.categories.join(\",\"),\r\n              }),\r\n            }\r\n          : undefined;\r\n      },\r\n      getStateFromURL: (queryParams) => {\r\n        return {\r\n          type: queryParams.get(\"categories\"),\r\n        };\r\n      },\r\n    }),\r\n    []\r\n  );\r\n\r\n  const {\r\n    columns,\r\n    filterManager,\r\n    cleanSearchText,\r\n    filterState,\r\n    debouncedFilterState,\r\n    totalRecords,\r\n    setTotalRecords,\r\n  } = useFilter({\r\n    columns: columnsDefinitions,\r\n    debounceTime: debounceTime,\r\n    rowsPerPage,\r\n    rowsPerPageOptions,\r\n    tableRef,\r\n    extraFilter,\r\n  });\r\n\r\n  const searchText = cleanSearchText(filterState.search);\r\n  const indexColumnCategories = columns.findIndex(\r\n    (c) => c.name === \"categories\"\r\n  );\r\n  const columnCategories = columns[indexColumnCategories];\r\n  const categoriesFilterValue =\r\n    filterState.extraFilter && filterState.extraFilter.categories;\r\n\r\n  (columnCategories.options as any).filterList = categoriesFilterValue\r\n    ? categoriesFilterValue\r\n    : [];\r\n  const serverSideFilterList = columns.map((column) => []);\r\n  if (categoriesFilterValue) {\r\n    serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\r\n  }\r\n\r\n  const getData = useCallback(\r\n    async ({ search, page, per_page, sort, dir, type }) => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await genreHttp.list<ListResponse<Genre>>({\r\n          queryParams: {\r\n            search,\r\n            page,\r\n            per_page,\r\n            sort,\r\n            dir,\r\n            ...(type && {\r\n              type: invert(CastMemberTypeMap)[type],\r\n            }),\r\n          },\r\n        });\r\n        if (subscribed.current) {\r\n          setData(data.data);\r\n          setTotalRecords(data.meta.total);\r\n        }\r\n      } catch (error) {\r\n        if (genreHttp.isCancelledRequest(error)) {\r\n          return;\r\n        }\r\n        enqueueSnackbar(\"Não foi possivel carregar as informações\", {\r\n          variant: \"error\",\r\n        });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    [enqueueSnackbar, setTotalRecords]\r\n  );\r\n\r\n  useEffect(() => {\r\n    let isSubscribed = true;\r\n    (async () => {\r\n      try {\r\n        const { data } = await categoryHttp.list({ queryParams: { all: \"\" } });\r\n        if (isSubscribed) {\r\n          setCategories(data.data);\r\n          (columnCategories.options as any).filterOptions.names = data.data.map(\r\n            (category) => category.name\r\n          );\r\n        }\r\n      } catch (error) {\r\n        enqueueSnackbar(\"Não foi possivel carregas as informações\", {\r\n          variant: \"error\",\r\n        });\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      isSubscribed = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    subscribed.current = true;\r\n    getData({\r\n      search: searchText,\r\n      page: filterState.pagination.page,\r\n      per_page: filterState.pagination.per_page,\r\n      sort: filterState.order.sort,\r\n      dir: filterState.order.dir,\r\n      ...(debouncedFilterState.extraFilter &&\r\n        debouncedFilterState.extraFilter.type && {\r\n          type: debouncedFilterState.extraFilter.type,\r\n        }),\r\n    });\r\n    return () => {\r\n      subscribed.current = false;\r\n    };\r\n  }, [\r\n    getData,\r\n    searchText,\r\n    debouncedFilterState.pagination.page,\r\n    debouncedFilterState.pagination.per_page,\r\n    debouncedFilterState.order,\r\n    debouncedFilterState.extraFilter,\r\n  ]);\r\n\r\n  return (\r\n    <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\r\n      <DefaultTable\r\n        title={\"\"}\r\n        columns={columns}\r\n        data={data}\r\n        isLoading={loading}\r\n        debouncedSearchTime={debouncedSearchTime}\r\n        ref={tableRef}\r\n        options={{\r\n          serverSideFilterList,\r\n          serverSide: true,\r\n          responsive: \"scrollMaxHeight\",\r\n          searchText: filterState.search as any,\r\n          page: filterState.pagination.page - 1,\r\n          rowsPerPage: filterState.pagination.per_page,\r\n          rowsPerPageOptions,\r\n          count: totalRecords,\r\n          onFilterChange: (column, filterList) => {\r\n            const columnIndex = columns.findIndex((c) => c.name === column);\r\n            filterManager.changeExtraFilter({\r\n              [column]: filterList[columnIndex].length\r\n                ? filterList[columnIndex]\r\n                : null,\r\n            });\r\n          },\r\n          customToolbar: () => (\r\n            <FilterResetButton\r\n              handleClick={() => filterManager.resetFilter()}\r\n            />\r\n          ),\r\n          onSearchChange: (value) => filterManager.changeSearch(value),\r\n          onChangePage: (page) => filterManager.changePage(page),\r\n          onChangeRowsPerPage: (perPage) =>\r\n            filterManager.changeRowsPerPage(perPage),\r\n          onColumnSortChange: (changeColumn: string, direction: string) =>\r\n            filterManager.changeColumnSort(changeColumn, direction),\r\n        }}\r\n      />\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import * as React from \"react\";\r\nimport { Page } from \"../../components/Page\";\r\nimport { Box, Fab } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Table from \"./Table\";\r\n\r\nconst PageList = () => {\r\n  return (\r\n    <Page title={\"Listagem de gêneros\"}>\r\n      <Box dir={\"rtl\"} paddingBottom={2}>\r\n        <Fab\r\n          title={\"Adicionar categoria\"}\r\n          color={\"secondary\"}\r\n          size={\"small\"}\r\n          component={Link}\r\n          to={\"genres/create\"}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Box>\r\n      <Box>\r\n        <Table />\r\n      </Box>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PageList;\r\n","import * as React from 'react';\r\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\r\nimport {Box, Button, ButtonProps, MenuItem, TextField} from \"@material-ui/core\";\r\nimport useForm from \"react-hook-form\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport genreHttp from \"../../util/http/genre-http\";\r\nimport categoryHttp from \"../../util/http/category-http\";\r\nimport * as yup from \"../../util/vendor/yup\";\r\nimport {useParams, useHistory} from 'react-router'\r\nimport {useSnackbar} from \"notistack\";\r\nimport {Category, Genre} from \"../../util/model\";\r\nimport LoadingContext from \"../../components/loading/LoadingContext\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return {\r\n        submit: {\r\n            margin: theme.spacing(1)\r\n        }\r\n    }\r\n});\r\n\r\nconst validationSchema  = yup.object().shape({\r\n    name: yup.string()\r\n        .label('Nome')\r\n        .required()\r\n        .max(255),\r\n    categories_id: yup.array()\r\n        .label('Categorias')\r\n        .required(),\r\n});\r\n\r\nexport const Form = () => {\r\n    const {register, handleSubmit, getValues, setValue,reset, errors, watch} = useForm({\r\n        validationSchema,\r\n        defaultValues: {\r\n            name:'',\r\n            categories_id: []\r\n        }\r\n    });\r\n\r\n    const classes = useStyles();\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    const history = useHistory();\r\n    const {id} = useParams();\r\n    const [genre, setGenre] = useState< Genre | null>(null);\r\n    const[categories, setCategories] = useState<Category[]>([]);\r\n    const loading = useContext(LoadingContext);\r\n\r\n    const buttonProps: ButtonProps ={\r\n        className: classes.submit,\r\n        color: 'secondary',\r\n        variant: \"contained\",\r\n        disabled: loading\r\n    };\r\n\r\n    useEffect( () => {\r\n        let isSubscribed = true;\r\n        (async function loadData() {\r\n            const promises = [categoryHttp.list({queryParams: {all: ''}})];\r\n            if (id){\r\n                promises.push(genreHttp.get(id));\r\n                console.log(promises);\r\n            }\r\n            try {\r\n                const [categoriesReponse, genreResponse] = await Promise.all(promises);\r\n                if(isSubscribed) {\r\n                    setCategories(categoriesReponse.data.data);\r\n                    if (id) {\r\n                        setGenre(genreResponse.data.data);\r\n                        reset({\r\n                            ...genreResponse.data.data,\r\n                            categories_id: genreResponse.data.data.categories.map(category => category.id)\r\n                        });\r\n                    }\r\n                }\r\n            } catch(error){\r\n                enqueueSnackbar(\r\n                    'Não foi possivel carregar as informações',\r\n                    {variant: 'error',}\r\n                )\r\n            }\r\n        })();\r\n\r\n        return () => {\r\n            isSubscribed = false;\r\n        }\r\n    }, [id, reset, enqueueSnackbar]);\r\n\r\n    useEffect(() => {\r\n        register({name: \"categories_id\"})\r\n    }, [register]);\r\n\r\n    async function onSubmit(formData, event) {\r\n        try {\r\n            const http = !genre\r\n            ? genreHttp.create({})\r\n                : genreHttp.update(genre.id, formData);\r\n            const {data} = await http;\r\n            enqueueSnackbar(\r\n                'Genero salvo com sucesso',\r\n                {variant: 'success'}\r\n            );\r\n            setTimeout( () => {\r\n                event\r\n                ? (\r\n                    id\r\n                    ? history.replace(`/genres/${data.data.id}/edit`)\r\n                        : history.push(`/genres/${data.data.id}/edit`)\r\n                    )\r\n                    : history.push( '/genres')\r\n            });\r\n        } catch(error) {\r\n            enqueueSnackbar(\r\n                'Não foi possivel salvar o genero',\r\n                { variant: 'error'}\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <TextField\r\n                name='name'\r\n                label='Nome'\r\n                fullWidth\r\n                variant={'outlined'}\r\n                inputRef={register}\r\n                disabled={loading}\r\n                error={errors.name !== undefined}\r\n                helperText={errors.name && errors.name.message}\r\n                InputLabelProps={{shrink: true}}\r\n            />\r\n            <TextField\r\n                select\r\n                name='categories_id'\r\n                value={watch('categories_id')}\r\n                label='Categorias'\r\n                margin={'normal'}\r\n                variant={'outlined'}\r\n                fullWidth\r\n                onChange={(e) => {\r\n                    setValue('categories_id', e.target.value as any);\r\n                }}\r\n                SelectProps={{multiple:true}}\r\n                disabled={loading}\r\n                error={errors.categories_id !== undefined}\r\n                helperText ={errors.categories_id}\r\n                InputLabelProps={{shrink:true}}\r\n            >\r\n                <MenuItem value=\"\" disabled>\r\n                    <em>Selecione categories</em>\r\n                </MenuItem>\r\n                {\r\n                    categories.map(\r\n                        (category, key) => (\r\n                            <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\r\n                        )\r\n                    )\r\n                }\r\n            </TextField>\r\n            <Box dir={\"rtl\"}>\r\n                <Button {...buttonProps} onClick={()=> onSubmit(getValues(),null)}>Salvar</Button>\r\n                <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\r\n            </Box>\r\n        </form>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {Page} from \"../../components/Page\";\r\nimport {Form} from \"../genre/Form\";\r\n\r\ntype Props = {\r\n\r\n};\r\nconst PageForm = (props: Props) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                <Page title={'Criar Gêneros'}>\r\n                    <Form/>\r\n                </Page>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageForm;\r\n","import HttpResource from \"./http-resource\";\r\nimport {httpVideo} from \"./index\";\r\n\r\nconst videoHttp = new HttpResource(httpVideo, 'videos');\r\n\r\nexport default videoHttp;\r\n","import * as React from 'react';\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles( {\r\n    root:{\r\n        width: '36px',\r\n        height: '36px',\r\n        fontSize: '1.2em',\r\n        color: '#fff',\r\n        borderRadius: '4px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }\r\n});\r\n\r\nconst backgroundColors = {\r\n  'L': '#398549',\r\n  '10': '#204304',\r\n  '12': '#E79738',\r\n  '14': '#E35E00',\r\n  '16': '#D00003',\r\n  '18': '#000000'\r\n};\r\n\r\ninterface RatingProps {\r\n    rating: 'L' |  '10' | '12' | '14' | '16' | '18'\r\n}\r\n\r\nconst Rating: React.FC<RatingProps> = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n            <Typography\r\n                className={classes.root}\r\n                style={{\r\n                    backgroundColor: backgroundColors[props.rating]\r\n                }}\r\n            >\r\n                {props.rating}\r\n            </Typography>\r\n    );\r\n};\r\n\r\nexport default Rating;","import * as React from 'react';\r\nimport {\r\n    Box,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormControlLabelProps,\r\n    FormHelperText,\r\n    FormLabel,\r\n    Radio,\r\n    RadioGroup\r\n} from \"@material-ui/core\";\r\nimport Rating from \"../../../components/Rating\";\r\nimport {FormControlProps} from \"@material-ui/core\";\r\n\r\ninterface RatingFieldProps {\r\n    value: string;\r\n    setValue: (value) => void\r\n    disabled?: boolean;\r\n    error: any;\r\n    FormControlProps?: FormControlProps\r\n}\r\n\r\nconst ratings: FormControlLabelProps[] = [\r\n    {value: \"L\", control: <Radio color=\"primary\"/>, label: <Rating rating={'L'}/>, labelPlacement: 'top'},\r\n    {value: \"10\", control: <Radio color=\"primary\"/>, label: <Rating rating={'10'}/>, labelPlacement: 'top'},\r\n    {value: \"12\", control: <Radio color=\"primary\"/>, label: <Rating rating={'12'}/>, labelPlacement: 'top'},\r\n    {value: \"14\", control: <Radio color=\"primary\"/>, label: <Rating rating={'14'}/>, labelPlacement: 'top'},\r\n    {value: \"16\", control: <Radio color=\"primary\"/>, label: <Rating rating={'16'}/>, labelPlacement: 'top'},\r\n    {value: \"18\", control: <Radio color=\"primary\"/>, label: <Rating rating={'18'}/>, labelPlacement: 'top'},\r\n];\r\n\r\nexport const RatingField: React.FC<RatingFieldProps> = (props) => {\r\n    const {value, setValue, disabled, error} = props;\r\n    return (\r\n        <FormControl\r\n            margin={\"none\"}\r\n            error={error !== undefined}\r\n            disabled={disabled === true}\r\n            {...props.FormControlProps}\r\n        >\r\n            <FormLabel component={'legend'}>Classficação</FormLabel>\r\n            <Box paddingTop={1}>\r\n                <RadioGroup\r\n                    name={'rating'}\r\n                    onChange={(e) => {\r\n                        setValue(e.target.value);\r\n                    }}\r\n                    value={value}\r\n                    row\r\n                >\r\n                    {\r\n                        ratings.map(\r\n                            (props, key) => <FormControlLabel key={key} {...props}/>\r\n                        )\r\n                    }\r\n                </RadioGroup>\r\n            </Box>\r\n            {\r\n                error && <FormHelperText>{error.message}</FormHelperText>\r\n            }\r\n        </FormControl>\r\n    );\r\n};","import * as React from 'react';\r\nimport {InputAdornment, TextField} from \"@material-ui/core\";\r\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef, useState} from \"react\";\r\nimport {TextFieldProps} from '@material-ui/core/TextField';\r\n\r\nexport interface InputFileProps extends RefAttributes<InputFileComponent>{\r\n    ButtonFile: React.ReactNode;\r\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\r\n    TextFieldProps?: TextFieldProps;\r\n}\r\n\r\nexport interface InputFileComponent {\r\n    openWindow: () => void\r\n    clear: () => void\r\n}\r\n\r\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\r\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\r\n    const [filename, setFilename] = useState(\"\");\r\n\r\n    const textFieldProps : TextFieldProps = {\r\n        variant: 'outlined',\r\n         ...props.TextFieldProps,\r\n        InputProps: {\r\n            ...(\r\n              props.TextFieldProps && props.TextFieldProps.InputProps &&\r\n              {...props.TextFieldProps.InputProps}\r\n            ),\r\n            readOnly: true,\r\n            endAdornment: (\r\n                <InputAdornment position={'end'}>\r\n                    {props.ButtonFile}\r\n                    {/*<Button*/}\r\n                    {/*    endIcon={<CloudUploadIcon/>}*/}\r\n                    {/*    variant={'contained'}*/}\r\n                    {/*    color={'primary'}*/}\r\n                    {/*    onClick={() => fileRef.current.click()}*/}\r\n                    {/*>Adicionar*/}\r\n                    {/*</Button>*/}\r\n                </InputAdornment>\r\n            )\r\n        },\r\n        value: filename\r\n    }\r\n\r\n    const inputFieldProps = {\r\n        ...props.InputFileProps,\r\n        hidden:true,\r\n        ref: fileRef,\r\n        onChange(event){\r\n            const files = event.target.files;\r\n            if(files.length){\r\n                setFilename(\r\n                    Array.from(files).map((file: any) => file.name).join(', '));\r\n            }\r\n            if(props.InputFileProps && props.InputFileProps.onChange){\r\n                props.InputFileProps.onChange(event)\r\n            }\r\n        }\r\n    };\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        openWindow: () => fileRef.current.click(),\r\n        clear: () => setFilename(\"\")\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <input type=\"file\" {...inputFieldProps}/>\r\n            <TextField {...textFieldProps}\r\n\r\n            />\r\n        </>\r\n    );\r\n});\r\n\r\nexport default InputFile;","import * as React from 'react';\r\nimport {\r\n    Button,\r\n    FormControl,\r\n} from \"@material-ui/core\";\r\nimport {FormControlProps} from \"@material-ui/core\";\r\nimport InputFile, {InputFileComponent} from \"../../../components/InputFile\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport {MutableRefObject, useImperativeHandle, useRef} from \"react\";\r\n\r\ninterface UploadFieldProps {\r\n    accept: string;\r\n    label: string;\r\n    setValue: (value) => void;\r\n    disabled?: boolean;\r\n    error?: any;\r\n    FormControlProps?: FormControlProps\r\n}\r\n\r\nexport interface UploadFieldComponent {\r\n    clear: () => void\r\n}\r\n\r\nconst UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\r\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\r\n    const {accept, label, setValue, disabled, error} = props;\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        clear: () => fileRef.current.clear()\r\n    }))\r\n\r\n    return (\r\n        <FormControl\r\n            error={error !== undefined}\r\n            disabled={disabled === true}\r\n            fullWidth\r\n            margin={\"normal\"}\r\n            {...props.FormControlProps}\r\n        >\r\n            <InputFile\r\n                ref={fileRef}\r\n                TextFieldProps={{\r\n                    label: label,\r\n                    InputLabelProps: {shrink: true},\r\n                    style:{backgroundColor: '#ffffff'}\r\n                }}\r\n                InputFileProps={{\r\n                    accept,\r\n                    onChange(event){\r\n                        const files = event.target.files as any;\r\n                        files.length && setValue(files[0])\r\n                }}\r\n                }\r\n                ButtonFile={\r\n                    <Button\r\n                        endIcon={<CloudUploadIcon/>}\r\n                        variant={'contained'}\r\n                        color={'primary'}\r\n                        onClick={() => fileRef.current.openWindow() }\r\n                    >Adicionar\r\n                    </Button>\r\n                }/>\r\n        </FormControl>\r\n    );\r\n});\r\n\r\nexport default UploadField;","import * as React from 'react';\r\nimport {Autocomplete, AutocompleteProps, UseAutocompleteSingleProps} from \"@material-ui/lab\";\r\nimport {CircularProgress,  TextField, TextFieldProps} from \"@material-ui/core\";\r\nimport {RefAttributes, useEffect, useImperativeHandle, useState} from \"react\";\r\nimport {useDebounce} from \"use-debounce\";\r\n\r\ninterface AsyncAutoCompleteProps extends RefAttributes<AsyncAutocompleteComponent> {\r\n    fetchOptions: (searchText) => Promise<any>;\r\n    debounceTime?: number;\r\n    TextFieldProps?: TextFieldProps\r\n    AutocompleteProps?: Omit<AutocompleteProps<any>, 'renderInput'> & UseAutocompleteSingleProps<any>\r\n}\r\n\r\nexport interface AsyncAutocompleteComponent {\r\n    clear: () => void;\r\n}\r\n\r\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent,AsyncAutoCompleteProps>((props, ref) => {\r\n\r\n    const {AutocompleteProps, debounceTime = 300, fetchOptions} = props;\r\n    const {freeSolo = false, onOpen, onClose, onInputChange} = AutocompleteProps as any;\r\n    const [open, setOpen] = useState(false);\r\n    const [searchText, setSearchText] = useState(\"\");\r\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime);\r\n    const [loading, setLoading] = useState(false);\r\n    const [options, setOptions] = useState([]);\r\n\r\n    const textFieldProps: TextFieldProps = {\r\n        margin: 'normal',\r\n        variant: 'outlined',\r\n        fullWidth: true,\r\n        InputLabelProps: { shrink: true},\r\n        ...(props.TextFieldProps && {...props.TextFieldProps})\r\n    };\r\n\r\n    const autocompleteProps: AutocompleteProps<any> = {\r\n        loadingText: 'Carregando...',\r\n        ...(AutocompleteProps && {...AutocompleteProps}),\r\n        open,\r\n        options,\r\n        loading: loading,\r\n        inputValue: searchText,\r\n        noOptionsText: 'Nenhum item encontrado',\r\n        onOpen() {\r\n          setOpen(true);\r\n          onOpen && onOpen();\r\n        },\r\n        onClose(){\r\n            setOpen(false);\r\n            onClose && onClose();\r\n        },\r\n        onInputChange(event, value){\r\n            setSearchText(value);\r\n            onInputChange && onInputChange();\r\n        },\r\n        renderInput: params => {\r\n            return <TextField\r\n                {...params}\r\n                {...textFieldProps}\r\n                InputProps={{\r\n                    ...params.InputProps,\r\n                    endAdornment: (\r\n                        <>\r\n                            {loading &&  <CircularProgress color={'inherit'} size={20}/>}\r\n                            {params.InputProps.endAdornment}\r\n                        </>\r\n                    )\r\n                }}\r\n            />\r\n        }\r\n    };\r\n\r\n    useEffect( () => {\r\n        if(!open && !freeSolo)\r\n            setOptions([])\r\n    }, [open, freeSolo]);\r\n\r\n    useEffect(() => {\r\n        if(!open){\r\n            return;\r\n        }\r\n        if(debouncedSearchText === \"\" && freeSolo) {\r\n           return;\r\n        }\r\n\r\n        let isSubscribed = true;\r\n        (async () => {\r\n            setLoading(true);\r\n            try{\r\n                const data = await fetchOptions(debouncedSearchText);\r\n\r\n                if(isSubscribed){\r\n                    setOptions(data);\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        })();\r\n        return () => {\r\n            isSubscribed = false;\r\n        }\r\n    }, [freeSolo, debouncedSearchText ,open, fetchOptions]);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        clear: () => {\r\n            setSearchText(\"\");\r\n            setOptions([]);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <Autocomplete {...autocompleteProps}/>\r\n    );\r\n});\r\n\r\nexport default AsyncAutocomplete;","import * as React from 'react';\r\nimport {createStyles, Grid, GridProps, Theme} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            backgroundColor: '#f1f1f1',\r\n            borderRadius: '4px',\r\n            padding: theme.spacing(1, 1),\r\n            color: theme.palette.secondary.main\r\n        }\r\n    }),\r\n);\r\n\r\ninterface GridSelectedProps extends GridProps {\r\n}\r\n\r\nexport const GridSelected: React.FC<GridSelectedProps> =  (props) => {\r\n    const classes = useStyles();\r\n    return <Grid container wrap={'wrap'} className={classes.root} {...props}>\r\n        {props.children}\r\n    </Grid>\r\n};\r\n\r\nexport default GridSelected;","import * as React from 'react';\r\nimport {Grid, IconButton} from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {GridProps} from '@material-ui/core/Grid';\r\n\r\ninterface GridSelectedItemProps extends GridProps {\r\n    onDelete: () => void\r\n}\r\n\r\nexport const GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\r\n    const {onDelete,children, ...other} = props;\r\n    return(<Grid item {...other}>\r\n            <Grid container alignItems={'center'} spacing={3}>\r\n                <Grid item xs={1}>\r\n                    <IconButton size={'small'} color={'inherit'} onClick={onDelete}>\r\n                        <DeleteIcon/>\r\n                    </IconButton>\r\n                </Grid>\r\n                <Grid item xs={10} md={11}>\r\n                    {children}\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>);\r\n};\r\n\r\nexport default GridSelectedItem;","import {useSnackbar} from \"notistack\";\r\nimport axios from 'axios'\r\nimport {useCallback} from \"react\";\r\n\r\nconst useHttpHandled = () => {\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    return useCallback(async (request: Promise<any>) => {\r\n        try {\r\n            const {data} = await request;\r\n            return data;\r\n        } catch (e) {\r\n            console.log(e)\r\n            if (axios.isCancel(e)) {\r\n                enqueueSnackbar(\r\n                    'Não foi possivel carregar as informações',\r\n                    {variant: 'error',}\r\n                );\r\n            }\r\n            throw e;\r\n        }\r\n    }, [enqueueSnackbar]);\r\n};\r\n\r\nexport default useHttpHandled;","import {useSnackbar} from \"notistack\";\r\n\r\nconst useCollectionManager = (collection: any[], setCollection: (value) => void ) => {\r\n    const snackbar = useSnackbar();\r\n    return {\r\n        addItem(item){\r\n            if(!item || item === \"\"){\r\n                return;\r\n            }\r\n            const exists = collection.find(i => i.id === item.id)\r\n\r\n            if(exists){\r\n                snackbar.enqueueSnackbar(\r\n                    'Item já adicionado', { variant: 'info'}\r\n                )\r\n                return;\r\n            }\r\n            collection.unshift(item);\r\n            setCollection(collection);\r\n        },\r\n        removeItem(item) {\r\n            const index = collection.findIndex(i=> i.id === item.id)\r\n            if(index === -1){\r\n                return;\r\n            }\r\n            collection.splice(index, 1);\r\n            setCollection(collection);\r\n        }\r\n    }\r\n};\r\n\r\nexport default useCollectionManager;","import {Category, Genre} from './model';\r\n\r\nexport function getGenresFromCategory(genres: Genre[],category: Category){\r\n    return genres.filter(\r\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\r\n    )\r\n}","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport * as React from 'react';\r\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutocomplete\";\r\nimport GridSelected from \"../../../components/GridSelected\";\r\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\r\nimport {FormControl, FormHelperText, Grid, Typography} from \"@material-ui/core\";\r\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\r\nimport genreHttp from \"../../../util/http/genre-http\";\r\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\r\nimport {FormControlProps} from \"@material-ui/core\";\r\nimport {getGenresFromCategory} from \"../../../util/model-filters\";\r\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from \"react\";\r\n\r\ninterface GenreFieldProps extends RefAttributes<GenreFieldComponent> {\r\n    genres: any[],\r\n    setGenres: (genres) => void,\r\n    categories: any[],\r\n    setCategories: (categories) => void,\r\n    error: any,\r\n    disabled?: boolean;\r\n    FormControlProps?: FormControlProps\r\n}\r\n\r\nexport interface GenreFieldComponent {\r\n    clear: () => void\r\n}\r\n\r\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\r\n    const {\r\n        genres,\r\n        setGenres,\r\n        categories,\r\n        setCategories,\r\n        error,\r\n        disabled\r\n    } = props;\r\n    const autocompleteHttp = useHttpHandled();\r\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\r\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\r\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\r\n\r\n    const fetchOptions = (searchText) => autocompleteHttp(\r\n        genreHttp\r\n            .list({\r\n                queryParams: {\r\n                    search: searchText, all: \"\"\r\n                }\r\n            })\r\n    ).then(data => data.data);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        clear: () => autocompleteRef.current.clear()\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <AsyncAutocomplete\r\n                ref={autocompleteRef}\r\n                fetchOptions={fetchOptions}\r\n                AutocompleteProps={{\r\n                    //autoSelect: true,\r\n                    clearOnEscape: true,\r\n                    freeSolo: true,\r\n                    getOptionSelected: (option, value) => option.id === value.id,\r\n                    getOptionLabel: option => option.name,\r\n                    onChange: (event, value) => addItem(value),\r\n                    disabled\r\n                }}\r\n                TextFieldProps={{\r\n                    label: 'Gêneros',\r\n                    error: error !== undefined\r\n                }}\r\n            />\r\n            <FormHelperText style={{height: '24px'}}>\r\n                Escolha os gêneros dos vídeos\r\n            </FormHelperText>\r\n            <FormControl\r\n                margin={\"normal\"}\r\n                fullWidth\r\n                error={error !== undefined}\r\n                disabled={disabled === true}\r\n                {...props.FormControlProps}\r\n            >\r\n                <GridSelected>\r\n                    {genres.map((genre, key) => (\r\n                        <GridSelectedItem key={key}\r\n                                          onDelete={() => {\r\n                                              const categoriesWithOneGenre = categories\r\n                                                  .filter(category => {\r\n                                                      const genresFroMCategory = getGenresFromCategory(genres, category);\r\n                                                      return genresFroMCategory.length === 1 && genres[0].id === genre.id\r\n                                                  });\r\n                                              categoriesWithOneGenre.forEach(cat => removeCategory(cat))\r\n                                              removeItem(genre)\r\n                                          }} xs={12}>\r\n                            <Typography noWrap={true}>\r\n                                {genre.name}\r\n                            </Typography>\r\n                        </GridSelectedItem>\r\n                    ))\r\n                    }\r\n                </GridSelected>\r\n                {\r\n                    error && <FormHelperText>{error.message}</FormHelperText>\r\n                }\r\n            </FormControl>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default GenreField;","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport * as React from 'react';\r\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutocomplete\";\r\nimport GridSelected from \"../../../components/GridSelected\";\r\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\r\nimport {FormControl, FormHelperText, Grid, Theme, Typography} from \"@material-ui/core\";\r\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\r\nimport categoryHttp from \"../../../util/http/category-http\";\r\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\r\nimport {Genre} from '../../../util/model'\r\nimport {FormControlProps} from \"@material-ui/core\";\r\nimport {getGenresFromCategory} from \"../../../util/model-filters\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {grey} from \"@material-ui/core/colors\";\r\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from \"react\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    genresSubTitle: {\r\n        color: grey['800'],\r\n        fontSize: '0.8rem'\r\n    }\r\n}));\r\n\r\ninterface CategoryFieldProps extends RefAttributes<CategoryFieldComponent> {\r\n    categories: any[],\r\n    setCategories: (categories) => void\r\n    genres: Genre[]\r\n    error: any\r\n    disabled?: boolean;\r\n    FormControlProps?: FormControlProps\r\n}\r\n\r\nexport interface CategoryFieldComponent {\r\n    clear: () => void\r\n}\r\n\r\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\r\n    const {categories, setCategories, genres, error, disabled} = props;\r\n    const classes = useStyles();\r\n    const autocompleteHttp = useHttpHandled();\r\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\r\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\r\n\r\n    const fetchOptions = (searchText) => autocompleteHttp(\r\n        categoryHttp\r\n            .list({\r\n                queryParams: {\r\n                    genres: genres.map(genre => genre.id).join(','), all: \"\"\r\n                }\r\n            })\r\n    ).then(data => data.data);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        clear: () => autocompleteRef.current.clear()\r\n    }))\r\n\r\n    return (\r\n        <>\r\n            <AsyncAutocomplete\r\n                ref={autocompleteRef}\r\n                fetchOptions={fetchOptions}\r\n                AutocompleteProps={{\r\n                    freeSolo: false,\r\n                    getOptionLabel: option => option.name,\r\n                    onChange: (event, value) => addItem(value),\r\n                    disabled: disabled === true || !genres.length\r\n\r\n                }}\r\n                TextFieldProps={{\r\n                    label: 'Categorias',\r\n                    error: error !== undefined\r\n                }}\r\n            />\r\n            <FormHelperText style={{height: '24px'}}>\r\n                Escolha pelo menos uma categoria de cada gênero\r\n            </FormHelperText>\r\n            <FormControl\r\n                error={error !== undefined}\r\n                disabled={disabled === true}\r\n                {...props.FormControlProps}\r\n            >\r\n                <GridSelected>\r\n                    {categories.map((category, key) => {\r\n                        const genresFromCategory = getGenresFromCategory(genres, category)\r\n                            .map(genre => genre.name)\r\n                            .join(',');\r\n                        return (<GridSelectedItem\r\n                                key={key}\r\n                                onDelete={() => removeItem(category)} xs={12}>\r\n                                <Typography noWrap={true}>\r\n                                    {category.name}\r\n                                </Typography>\r\n                                <Typography noWrap={true} className={classes.genresSubTitle}>\r\n                                    Generos: {genresFromCategory}\r\n                                </Typography>\r\n                            </GridSelectedItem>\r\n                        )\r\n                    })\r\n                    }\r\n                </GridSelected>\r\n                {\r\n                    error && <FormHelperText>{error.message}</FormHelperText>\r\n                }\r\n            </FormControl>\r\n        </>\r\n    );\r\n    ;\r\n});\r\n\r\nexport default CategoryField;","import * as React from 'react';\r\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../components/AsyncAutocomplete\";\r\nimport {MutableRefObject, RefAttributes, useCallback, useImperativeHandle, useRef} from \"react\";\r\nimport {FormControl, FormControlProps, FormHelperText, Typography} from \"@material-ui/core\";\r\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\r\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\r\nimport castMemberHttp from \"../../../util/http/cast-member-http\";\r\nimport GridSelected from \"../../../components/GridSelected\";\r\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\r\n\r\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldProps> {\r\n    castMembers: any[],\r\n    setCastMembers: (castMembers) => void\r\n    error: any\r\n    disabled?: boolean;\r\n    FormControlProps?: FormControlProps\r\n}\r\n\r\nexport interface CastMemberFieldComponent {\r\n    clear: () => void\r\n}\r\n\r\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\r\n    const {\r\n        castMembers,\r\n        setCastMembers,\r\n        error,\r\n        disabled\r\n    } = props;\r\n    const autocompleteHttp = useHttpHandled();\r\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\r\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\r\n\r\n    const fetchOptions = useCallback((searchText) => {\r\n        return autocompleteHttp(\r\n            castMemberHttp\r\n                .list({\r\n                    queryParams: {\r\n                        search: searchText, all: \"\"\r\n                    }\r\n                })\r\n        ).then(data => data.data)\r\n    }, [autocompleteHttp]);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        clear: () => autocompleteRef.current.clear()\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <AsyncAutocomplete\r\n                ref={autocompleteRef}\r\n                fetchOptions={fetchOptions}\r\n                AutocompleteProps={{\r\n                    //autoSelect:true\r\n                    clearOnEscape: true,\r\n                    freeSolo: true,\r\n                    getOptionLabel: option => option.name,\r\n                    getOptionSelected: (option, value) => option.id === value.id,\r\n                    onChange: (event, value) => addItem(value),\r\n                    disabled\r\n                }}\r\n                TextFieldProps={{\r\n                    label: 'Elenco',\r\n                    error: error !== undefined\r\n                }}\r\n            />\r\n            <FormControl\r\n                margin={\"normal\"}\r\n                fullWidth\r\n                error={error !== undefined}\r\n                disabled={disabled === true}\r\n                {...props.FormControlProps}\r\n            >\r\n                <GridSelected>\r\n                    {\r\n                        castMembers.map((castMember, key) => (\r\n                            <GridSelectedItem\r\n                                key={key}\r\n                                onDelete={() => {\r\n                                    removeItem(castMember)\r\n                                }}\r\n                                xs={6}>\r\n                                <Typography noWrap={true}>\r\n                                    {castMember.name}\r\n                                </Typography>\r\n                            </GridSelectedItem>\r\n                        ))\r\n                    }\r\n                </GridSelected>\r\n                {\r\n                    error && <FormHelperText>{error.message}</FormHelperText>\r\n                }\r\n            </FormControl>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default CastMemberField","import {useSnackbar} from \"notistack\";\r\nimport {useEffect} from 'react';\r\n\r\nconst useSnackbarFormError = (submitCount, errors) => {\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    useEffect(() => {\r\n        const hasError = Object.keys(errors).length !== 0;\r\n        if(submitCount > 0 && hasError){\r\n            enqueueSnackbar(\r\n                'Formulário inválido. Reveja os campos marcados de vermelhos.',\r\n                {variant: 'error'}\r\n            )\r\n        }\r\n    }, [submitCount, errors, enqueueSnackbar])\r\n};\r\n\r\nexport default useSnackbarFormError;","import {FileUpload, Upload} from \"./types\";\r\n\r\nexport function countInProgress(uploads: Upload[]) {\r\n    return uploads.filter(upload => !isFinished(upload)).length\r\n}\r\n\r\nexport function isFinished(obj: Upload | FileUpload) {\r\n    return obj.progress === 1 || hasError(obj);\r\n}\r\n\r\nexport function hasError(obj: Upload | FileUpload) : boolean {\r\n    if(isUploadType(obj)){\r\n        const upload = obj as Upload;\r\n        return upload.files.some(file => file.error)\r\n    } else {\r\n        const file = obj as FileUpload;\r\n        return file.error !== undefined;\r\n    }\r\n}\r\n\r\nexport function isUploadType(obj: Upload | FileUpload){\r\n    return 'video' in obj;\r\n}","import * as React from 'react';\r\nimport {CircularProgress, Fade, Theme} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {grey} from \"@material-ui/core/colors\";\r\nimport {FileUpload, Upload} from \"../store/upload/types\";\r\nimport {hasError} from \"../store/upload/getters\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    progressContainer: {\r\n        position: 'relative',\r\n    },\r\n    progress: {\r\n        position: 'absolute',\r\n    },\r\n    progressBackground: {\r\n        color: grey['300']\r\n    }\r\n\r\n}));\r\n\r\ninterface UploadProgressProps {\r\n    uploadOrFile: Upload | FileUpload;\r\n    size: number\r\n};\r\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\r\n    const {uploadOrFile,size} = props;\r\n    const classes = useStyles();\r\n    const error = hasError(uploadOrFile);\r\n    return (\r\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\r\n            <div className={classes.progressContainer}>\r\n                <CircularProgress\r\n                    variant={'static'}\r\n                    value={100}\r\n                    className={classes.progressBackground}\r\n                    size={size}\r\n                />\r\n                <CircularProgress\r\n                    className={classes.progress}\r\n                    variant={'static'}\r\n                    value={ error ? 0 : uploadOrFile.progress * 100}\r\n                    size={size}\r\n                />\r\n            </div>\r\n        </Fade>\r\n    );\r\n};\r\n\r\nexport default UploadProgress;","import * as Typings from './types'\r\nimport {createActions, createReducer} from 'reduxsauce';\r\nimport update from 'immutability-helper'\r\n\r\nexport const {Types, Creators} = createActions<{\r\n    ADD_UPLOAD: string,\r\n    REMOVE_UPLOAD: string,\r\n    UPDATE_PROGRESS: string,\r\n    SET_UPLOAD_ERROR: string\r\n}, {\r\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction\r\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction\r\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction\r\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction\r\n}>({\r\n    addUpload: ['payload'],\r\n    removeUpload:['payload'],\r\n    updateProgress: ['payload'],\r\n    setUploadError: ['payload']\r\n});\r\n\r\nexport const INITIAL_STATE: Typings.State = {\r\n    uploads: []\r\n};\r\n\r\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\r\n    [Types.ADD_UPLOAD]: addUpload as any,\r\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\r\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\r\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any\r\n});\r\n\r\nexport default reducer;\r\n\r\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.State {\r\n    if (!action.payload.files.length) {\r\n        return state;\r\n    }\r\n\r\n    const index = findIndexUpload(state, action.payload.video.id);\r\n\r\n    if (index !== -1 && state.uploads[index].progress < 1) {\r\n        return state;\r\n    }\r\n\r\n    const uploads = index === -1\r\n        ? state.uploads\r\n        : update(state.uploads, {\r\n            $splice: [[index, 1]]\r\n        });\r\n\r\n    return {\r\n        uploads: [\r\n            ...uploads,\r\n            {\r\n                video: action.payload.video,\r\n                progress: 0,\r\n                files: action.payload.files.map(file => ({\r\n                    fileField: file.fileField,\r\n                    filename: file.file.name,\r\n                    progress: 0\r\n                }))\r\n            }\r\n        ]\r\n    };\r\n}\r\n\r\nfunction removeUpload(state: Typings.State = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.State {\r\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\r\n    if(uploads.length === state.uploads.length){\r\n        return state;\r\n    }\r\n    return {\r\n        uploads\r\n    }\r\n}\r\n\r\nfunction updateProgress(state: Typings.State, action: Typings.UpdateProgressAction ): Typings.State {\r\n    const videoId = action.payload.video.id;\r\n    const fileField = action.payload.fileField;\r\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField)\r\n\r\n    if (typeof indexUpload === 'undefined') {\r\n        return state;\r\n    }\r\n\r\n    const upload = state.uploads[indexUpload];\r\n    const file = upload.files[indexFile];\r\n\r\n    if(file.progress === action.payload.progress) {\r\n        return state;\r\n    }\r\n\r\n    const uploads = update(state.uploads, {\r\n        [indexUpload]: {\r\n            $apply(upload) {\r\n                const files = update(upload.files, {\r\n                    [indexFile]: {\r\n                        $set: {...file, progress: action.payload.progress}\r\n                    }\r\n                })\r\n                const progress = calculateGlobalProgress(files);\r\n                return {...upload, progress, files}\r\n            },\r\n        }\r\n    });\r\n    return {uploads};\r\n}\r\n\r\nfunction setUploadError(state: Typings.State, action: Typings.SetUploadErrorAction ): Typings.State {\r\n    const videoId = action.payload.video.id;\r\n    const fileField = action.payload.fileField;\r\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField)\r\n\r\n    if (typeof indexUpload === 'undefined') {\r\n        return state;\r\n    }\r\n\r\n    const upload = state.uploads[indexUpload];\r\n    const file = upload.files[indexFile];\r\n\r\n    const uploads = update(state.uploads, {\r\n        [indexUpload]: {\r\n           files: {\r\n               [indexFile] : {\r\n                   $set: {...file,error: action.payload.error, progress: 1}\r\n               }\r\n           }\r\n        }\r\n    });\r\n    return {uploads};\r\n}\r\n\r\nfunction calculateGlobalProgress(files: Array<{progress}>){\r\n    const countFiles = files.length;\r\n    if(!countFiles){\r\n        return 0;\r\n    }\r\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0)\r\n    return sumProgress / countFiles;\r\n}\r\n\r\nfunction findIndexUploadAndFile(state: Typings.State, videoId, fileField): {indexUpload?, indexFile?}{\r\n    const indexUpload = findIndexUpload(state, videoId);\r\n    if(indexUpload === -1) {\r\n        return {};\r\n    }\r\n\r\n    const upload = state.uploads[indexUpload];\r\n    const indexFile = findIndexFile(upload.files, fileField);\r\n    return indexFile === -1 ? {} : {indexUpload, indexFile } ;\r\n}\r\n\r\nfunction findIndexUpload(state: Typings.State, id: string) {\r\n    return state.uploads.findIndex((upload) => upload.video.id === id);\r\n}\r\n\r\nfunction findIndexFile(files: Array<{fileField}>, fileField: string) {\r\n    return files.findIndex((file) => file.fileField === fileField);\r\n}","import * as React from 'react';\r\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\r\nimport {Fade, IconButton, ListItemSecondaryAction} from \"@material-ui/core\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport {Upload} from \"../../store/upload/types\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Creators} from '../../store/upload'\r\nimport {hasError, isFinished} from \"../../store/upload/getters\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useDebounce} from \"use-debounce\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    successIcon: {\r\n        color: theme.palette.success.main\r\n    },\r\n    errorIcon: {\r\n        color: theme.palette.error.main\r\n    }\r\n}));\r\n\r\ninterface UploadActionProps {\r\n    upload: Upload;\r\n    hover: boolean;\r\n};\r\n\r\nconst UploadActions: React.FC<UploadActionProps> = (props) => {\r\n    const {upload, hover} = props;\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const error = hasError(upload);\r\n    const [show, setShow] = useState(false);\r\n    const [debouncedShow] = useDebounce(show, 2500);\r\n\r\n    useEffect( () => {\r\n        setShow(isFinished(upload))\r\n    },[upload]);\r\n\r\n    return (\r\n        debouncedShow ? (<Fade in={true} timeout={{enter: 1000}}>\r\n            <ListItemSecondaryAction>\r\n                <span hidden={hover}>\r\n                    {\r\n                        upload.progress === 1 && !error && (<IconButton className={classes.successIcon} edge={\"end\"}>\r\n                                <CheckCircleIcon/>\r\n                            </IconButton>\r\n                        )\r\n                    }\r\n                    {\r\n                        error && (<IconButton className={classes.errorIcon} edge={\"end\"}>\r\n                                <ErrorIcon/>\r\n                            </IconButton>\r\n                        )\r\n                    }\r\n                </span>\r\n                <span hidden={!hover}>\r\n                    <IconButton\r\n                        className={'primary'}\r\n                        edge={\"end\"}\r\n                        onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\r\n                    >\r\n                        <DeleteIcon/>\r\n                    </IconButton>\r\n                </span>\r\n            </ListItemSecondaryAction>\r\n        </Fade>) : null\r\n    );\r\n};\r\n\r\nexport default UploadActions;","import * as React from 'react';\r\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\r\nimport {Divider, ListItem, ListItemIcon, ListItemText, Tooltip, Typography} from \"@material-ui/core\";\r\n\r\nimport MovieIcon from '@material-ui/icons/Movie';\r\nimport UploadProgress from \"../UploadProgress\";\r\nimport UploadActions from \"./UploadActions\";\r\nimport {Upload} from \"../../store/upload/types\";\r\nimport {hasError} from \"../../store/upload/getters\";\r\nimport {useState} from \"react\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    movieIcon: {\r\n        color: theme.palette.error.main,\r\n        minWidth: '40px'\r\n    },\r\n    listItem: {\r\n        paddingTop: '7px',\r\n        paddingBottom: '7px',\r\n        height: '53px'\r\n    },\r\n    listItemText: {\r\n        marginLeft: '6px',\r\n        marginRight: '24px',\r\n        color: theme.palette.text.secondary\r\n    },\r\n}));\r\n\r\ninterface UploadItemProps {\r\n    upload: Upload;\r\n}\r\n\r\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\r\n    const {upload} = props;\r\n    const classes = useStyles();\r\n    const error = hasError(upload);\r\n    const [itemHover, setItemHover] = useState(false);\r\n    return (\r\n        <>\r\n            <Tooltip\r\n                disableFocusListener\r\n                disableTouchListener\r\n                title={\r\n                    error ? \"Não foi possivel fazer o upload, clique para mais detalhes\" : ''\r\n                }\r\n                placement={'left'}\r\n            >\r\n                <ListItem\r\n                    className={classes.listItem}\r\n                    button\r\n                    onMouseOver={() => setItemHover(true)}\r\n                    onMouseLeave={() => setItemHover(false)}\r\n                >\r\n                    <ListItemIcon className={classes.movieIcon}>\r\n                        <MovieIcon/>\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                        className={classes.listItemText}\r\n                        primary={\r\n                            <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>\r\n                                {upload.video.title}\r\n                            </Typography>\r\n                        }\r\n                    />\r\n                    <UploadProgress  size={30} uploadOrFile={upload}/>\r\n                    <UploadActions upload={upload} hover={itemHover}/>\r\n                </ListItem>\r\n            </Tooltip>\r\n            <Divider component=\"li\"/>\r\n        </>\r\n    );\r\n};\r\nexport default UploadItem;","import * as React from 'react';\r\nimport {Card, CardActions, Collapse, IconButton, List, Theme, Typography} from \"@material-ui/core\";\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport {useSnackbar} from \"notistack\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useState} from \"react\";\r\nimport classnames from 'classnames'\r\nimport UploadItem from \"./UploadItem\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Upload, UploadModule} from \"../../store/upload/types\";\r\nimport {countInProgress} from \"../../store/upload/getters\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    card: {\r\n        width: 450,\r\n    },\r\n    cardActionRoot: {\r\n        padding: '8px 8px 8px 16px',\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        color: theme.palette.primary.contrastText,\r\n    },\r\n    icons: {\r\n        marginLeft: 'auto !important',\r\n        color: theme.palette.primary.contrastText\r\n    },\r\n    expand: {\r\n        transform: 'rotate(0deg)',\r\n        transition: theme.transitions.create( 'transform', {\r\n            duration: theme.transitions.duration.shortest\r\n        })\r\n    },\r\n    expandOpen:{\r\n        transform:'rotate(180deg)',\r\n        transition: theme.transitions.create( 'transform', {\r\n            duration: theme.transitions.duration.shortest\r\n        })\r\n    },\r\n    list: {\r\n        paddingTop:0,\r\n        paddingBottom:0\r\n    }\r\n}));\r\n\r\ninterface SnackbarUploadProps {\r\n    id: string | number;\r\n}\r\n\r\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\r\n    const {id} = props;\r\n    const classes = useStyles();\r\n    const {closeSnackbar} = useSnackbar();\r\n    const [expanded, setExpanded] = useState(true);\r\n\r\n    const uploads = useSelector<UploadModule, Upload[]>(\r\n        (state) => state.upload.uploads\r\n    );\r\n\r\n    const totalInProgress = countInProgress(uploads);\r\n\r\n    return (\r\n        <Card ref={ref} className={classes.card}>\r\n            <CardActions className={classes.cardActionRoot}>\r\n                <Typography variant=\"subtitle2\" className={classes.title}>\r\n                    Fazendo upload de {totalInProgress} video(s)\r\n                </Typography>\r\n                <div className={classes.icons}>\r\n                    <IconButton\r\n                        color={\"inherit\"}\r\n                        onClick={() => setExpanded(!expanded)}\r\n                        className={classnames(classes.expand, {[classes.expandOpen] : !expanded})}\r\n                    >\r\n                        <ExpandMoreIcon/>\r\n                    </IconButton>\r\n                    <IconButton\r\n                        color={\"inherit\"}\r\n                        onClick={() => {\r\n                            closeSnackbar(id)\r\n                        }}\r\n                    >\r\n                        <CloseIcon/>\r\n                    </IconButton>\r\n                </div>\r\n            </CardActions>\r\n            <Collapse in={expanded}>\r\n                <List className={classes.list}>\r\n                    {uploads.map((upload, key ) => (\r\n                        <UploadItem key={key} upload={upload}/>\r\n                        ))}\r\n                </List>\r\n            </Collapse>\r\n        </Card>\r\n    );\r\n});\r\n\r\nexport default SnackbarUpload;","import * as React from 'react';\r\nimport * as yup from '../../../util/vendor/yup'\r\nimport useForm from \"react-hook-form\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport {Video, VideoFileFieldsMap} from \"../../../util/model\";\r\nimport {useState, useEffect, MutableRefObject, useRef, createRef, useContext, useCallback} from \"react\";\r\nimport {useParams, useHistory} from 'react-router';\r\nimport videoHttp from \"../../../util/http/video-http\";\r\nimport {DefaultForm} from \"../../../components/DefaultForm\";\r\nimport {\r\n    TextField,\r\n    Grid,\r\n    FormControlLabel,\r\n    Typography,\r\n    Checkbox, useMediaQuery, useTheme, Theme, Card, CardContent\r\n} from \"@material-ui/core\";\r\nimport SubmitActions from \"../../../components/SubmitActions\";\r\nimport {RatingField} from \"./RatingField\";\r\nimport UploadField from \"./UploadField\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport GenreField, {GenreFieldComponent} from \"./GenreField\";\r\nimport CategoryField, {CategoryFieldComponent} from \"./CategoryField\";\r\nimport CastMemberField, {CastMemberFieldComponent} from \"./CastMemberField\";\r\nimport {omit, zipObject} from 'lodash';\r\nimport {InputFileComponent} from \"../../../components/InputFile\";\r\nimport useSnackbarFormError from \"../../../hooks/useSnackbarFormError\";\r\nimport SnackbarUpload from \"../../../components/SnackbarUpload\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Creators} from \"../../../store/upload\";\r\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    cardUpload: {\r\n        borderRadius: '4px',\r\n        backgroundColor: '#f5f5f5',\r\n        margin: theme.spacing(2, 0)\r\n    },\r\n    cardOpened: {\r\n        borderRadius: '4px',\r\n        backgroundColor: '#f5f5f5',\r\n    },\r\n    cardContentOpened: {\r\n        paddingBottom: theme.spacing(2) + 'px !important'\r\n    },\r\n}))\r\n\r\nconst validationSchema = yup.object().shape({\r\n    title: yup.string()\r\n        .label('Titulo')\r\n        .required().max(255),\r\n    description: yup.string()\r\n        .label('Sinopse')\r\n        .required(),\r\n    year_launched: yup.number()\r\n        .label('Ano de Lançamento')\r\n        .required().min(1),\r\n    duration: yup.number()\r\n        .label('Duração')\r\n        .required().min(1),\r\n    genres: yup.array()\r\n        .label('Gêneros')\r\n        .required()\r\n        .test({\r\n            message: 'Cada genero escolhido precisa ter pelo menos uma categoria selecionada',\r\n            test(value) {\r\n                return (value as any).every(\r\n                    v => v.categories.filter(\r\n                        cat => this.parent.categories.map(c => c.id).includes(cat.id)\r\n                    ).length !== 0\r\n                );\r\n            }\r\n        }),\r\n    categories: yup.array().label('Categories').required(),\r\n    rating: yup.string()\r\n        .label('Classificação')\r\n        .required(),\r\n});\r\n\r\n\r\nconst fileFields = Object.keys(VideoFileFieldsMap);\r\n\r\nexport const Form = () => {\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        getValues,\r\n        setValue,\r\n        errors,\r\n        reset,\r\n        watch,\r\n        triggerValidation,\r\n        formState\r\n    } = useForm({\r\n        validationSchema,\r\n        defaultValues: {\r\n            rating: null,\r\n            genres: [],\r\n            cast_members: [],\r\n            categories: [],\r\n            opened: false,\r\n        }\r\n    });\r\n\r\n    useSnackbarFormError(formState.submitCount, errors);\r\n\r\n    const classes = useStyles();\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    const history = useHistory();\r\n    const {id} = useParams();\r\n    const [video, setVideo] = useState<Video | null>(null);\r\n    const theme = useTheme();\r\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\r\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\r\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\r\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\r\n    const uploadsRef = useRef(\r\n        zipObject(fileFields, fileFields.map(() => createRef()))\r\n    ) as MutableRefObject<{ [key: string]: MutableRefObject<InputFileComponent> }>;\r\n\r\n    const loading = useContext(LoadingContext);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const resetForm = useCallback( (data) => {\r\n        Object.keys(uploadsRef.current).forEach(\r\n            field => uploadsRef.current[field].current.clear()\r\n        );\r\n        castMemberRef.current.clear();\r\n        categoryRef.current.clear();\r\n        genreRef.current.clear();\r\n        reset(data);\r\n    },[castMemberRef, categoryRef, genreRef, reset, uploadsRef]);\r\n\r\n    useEffect(() => {\r\n        [\r\n            'rating',\r\n            'opened',\r\n            'cast_members',\r\n            'genres',\r\n            'categories',\r\n            ...fileFields].forEach(name => register({name}));\r\n    }, [register]);\r\n\r\n    useEffect(() => {\r\n        if (!id) {\r\n            return;\r\n        }\r\n        let isSubscribed = true;\r\n        (async () => {\r\n            try {\r\n                const {data} = await videoHttp.get(id);\r\n                if (isSubscribed) {\r\n                    setVideo(data.data);\r\n                    reset(data.data);\r\n                }\r\n            } catch (error) {\r\n                enqueueSnackbar(\r\n                    'Não foi possível carregar as informações',\r\n                    {variant: 'error',}\r\n                )\r\n            } finally {\r\n                isSubscribed = false;\r\n            }\r\n        })();\r\n        return () => {\r\n            isSubscribed = false;\r\n        }\r\n    },[id, resetForm, enqueueSnackbar])\r\n\r\n    async function onSubmit(formData, event) {\r\n        const sendData = omit(\r\n            formData,\r\n            [...fileFields, 'cast_members', 'genres', 'categories']\r\n        );\r\n        sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\r\n        sendData['categories_id'] = formData['categories'].map(category => category.id);\r\n        sendData['genres_id'] = formData['genres'].map(genre => genre.id);\r\n\r\n        try {\r\n            const http = !video\r\n                ? videoHttp.create(formData)\r\n                : videoHttp.update(video.id, sendData);\r\n            const {data} = await http;\r\n            enqueueSnackbar(\r\n                'Video salvo com sucesso',\r\n                {variant: 'success'}\r\n            );\r\n            uploadFiles(data.data);\r\n\r\n           id && resetForm(video);\r\n            setTimeout(() => {\r\n                event\r\n                    ? (\r\n                        id\r\n                            ? history.replace(`/videos/${data.data.id}/edit`)\r\n                            : history.push(`/videos/${data.data.id}/edit`)\r\n                    )\r\n                    : history.push('videos')\r\n            });\r\n        } catch (error) {\r\n            console.log(error)\r\n            enqueueSnackbar(\r\n                'Não foi possivel salvar o video',\r\n                {variant: 'error'}\r\n            )\r\n        }\r\n    }\r\n\r\n    function uploadFiles(video){\r\n        const files = fileFields.filter(fileField => getValues()[fileField])\r\n            .map(fileField => ({fileField, file: getValues()[fileField]}))\r\n        if(!files.length) {\r\n            return;\r\n        }\r\n        dispatch(Creators.addUpload({video, files}));\r\n\r\n        enqueueSnackbar('', {\r\n            key: 'snackbar-upload',\r\n            persist: true,\r\n            anchorOrigin: {\r\n                vertical: 'bottom',\r\n                horizontal: 'right'\r\n            },\r\n            content: (key, message) => {\r\n                const id = key as any;\r\n                return <SnackbarUpload id={id}/>\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <DefaultForm\r\n            GridItemProps={{xs: 12}}\r\n            onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={5}>\r\n                <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                        name=\"title\"\r\n                        label=\"Título\"\r\n                        variant={'outlined'}\r\n                        fullWidth\r\n                        inputRef={register}\r\n                        disabled={loading}\r\n                        InputLabelProps={{shrink: true}}\r\n                        error={errors.title !== undefined}\r\n                        helperText={errors.title && errors.title.message}\r\n                    />\r\n                    <TextField\r\n                        name=\"description\"\r\n                        label=\"Sinopse\"\r\n                        multiline\r\n                        rows=\"4\"\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        inputRef={register}\r\n                        disabled={loading}\r\n                        InputLabelProps={{shrink: true}}\r\n                        error={errors.description !== undefined}\r\n                        helperText={errors.description && errors.description.message}\r\n                    />\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                name='year_launched'\r\n                                label=\"Ano de lançamento\"\r\n                                type=\"number\"\r\n                                margin=\"normal\"\r\n                                variant=\"outlined\"\r\n                                fullWidth\r\n                                inputRef={register}\r\n                                disabled={loading}\r\n                                InputLabelProps={{shrink: true}}\r\n                                error={errors.year_launched !== undefined}\r\n                                helperText={errors.year_launched && errors.year_launched.message}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                name=\"duration\"\r\n                                label=\"Duração\"\r\n                                type=\"number\"\r\n                                margin=\"normal\"\r\n                                variant=\"outlined\"\r\n                                fullWidth\r\n                                inputRef={register}\r\n                                disabled={loading}\r\n                                InputLabelProps={{shrink: true}}\r\n                                error={errors.duration !== undefined}\r\n                                helperText={errors.duration && errors.duration.message}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    Elenco\r\n                    <br/>\r\n                    <CastMemberField\r\n                        ref={castMemberRef}\r\n                        castMembers={watch('cast_members')}\r\n                        setCastMembers={(value) => setValue('cast_members', value, true)}\r\n                        error={errors.cast_members}\r\n                        disabled={loading}\r\n                    />\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={6}>\r\n                            <GenreField\r\n                                ref={genreRef}\r\n                                genres={watch('genres')}\r\n                                setGenres={(value) => setValue('genres', value, true)}\r\n                                categories={watch('categories')}\r\n                                setCategories={(value) => setValue('categories', value, true)}\r\n                                error={errors.genres}\r\n                                disabled={loading}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <CategoryField\r\n                                ref={categoryRef}\r\n                                categories={watch('categories')}\r\n                                setCategories={(value) => setValue('categories', value, true)}\r\n                                genres={watch('genres')}\r\n                                error={errors.categories}\r\n                                disabled={loading}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                    <RatingField value={watch('rating')}\r\n                                 setValue={(value) => setValue('rating', value, true)} //true\r\n                                 error={errors.rating}\r\n                                 disabled={loading}\r\n                                 FormControlProps={{\r\n                                     margin: isGreaterMd ? 'none' : 'normal'\r\n                                 }}\r\n                    >\r\n                    </RatingField>\r\n                    <br/>\r\n                    <Card className={classes.cardUpload}>\r\n                        <CardContent>\r\n                            <Typography color=\"primary\" variant={\"h6\"}>\r\n                                Imagens\r\n                            </Typography>\r\n                            <UploadField\r\n                                ref={uploadsRef.current['thumb_file']}\r\n                                accept={\"image/*\"}\r\n                                label={'Thumb'}\r\n                                setValue={(value) => setValue('thumb_file', value)}\r\n                            />\r\n                            <UploadField\r\n                                ref={uploadsRef.current['banner_file']}\r\n                                accept={\"images/*\"}\r\n                                label={'Banner'}\r\n                                setValue={(value) => setValue('banner_file', value)}\r\n                            />\r\n                        </CardContent>\r\n\r\n                    </Card>\r\n                    <Card className={classes.cardUpload}>\r\n                        <CardContent>\r\n                            <Typography color=\"primary\" variant=\"h6\">\r\n                                Videos\r\n                            </Typography>\r\n                            <UploadField\r\n                                ref={uploadsRef.current['trailer_file']}\r\n                                accept={\"video/mp4\"}\r\n                                label={'Trailer'}\r\n                                setValue={(value) => setValue('trailer_file', value)}\r\n                            />\r\n                            <UploadField\r\n                                ref={uploadsRef.current['video_file']}\r\n                                accept={\"video/mp4\"}\r\n                                label={'Principal'}\r\n                                setValue={(value) =>\r\n                                    setValue('video_file', value)\r\n                                }\r\n                            />\r\n                        </CardContent>\r\n                    </Card>\r\n                    <br/>\r\n                    <Card className={classes.cardOpened}>\r\n                        <CardContent className={classes.cardContentOpened}>\r\n                            <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        name=\"opened\"\r\n                                        color={'primary'}\r\n                                        onChange={\r\n                                            () => setValue('opened', !getValues()['opened'])\r\n                                        }\r\n                                        checked={watch('opened')}\r\n                                        disabled={loading}\r\n                                    />\r\n                                }\r\n                                label={\r\n                                    <Typography color=\"primary\" variant={'subtitle2'}>\r\n                                        Quero que este conteúdo apareça na seção lançamentos\r\n                                    </Typography>\r\n                                }\r\n                                labelPlacement=\"end\"\r\n                            />\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n            <SubmitActions\r\n                disabledButtons={loading}\r\n                handleSave={() =>\r\n                    triggerValidation().then(isValid => {\r\n                        isValid && onSubmit(getValues(), null)\r\n                    })\r\n                }\r\n            />\r\n        </DefaultForm>\r\n    );\r\n};","import * as React from 'react';\r\nimport {Page} from \"../../components/Page\";\r\nimport {Form} from \"./Form\";\r\nimport {useParams} from 'react-router'\r\n\r\nconst PageForm = () => {\r\n    const {id} = useParams();\r\n    return (\r\n        <Page title={!id ? 'Criar Video' : 'Editar Video'}>\r\n            <Form/>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default PageForm;","import {useEffect, useState} from \"react\";\r\n\r\nconst useDeleteCollection = () => {\r\n    const [openDeleteDialog, setOpenDeleteDialog ] = useState(false);\r\n    const [rowsToDelete, setRowsToDelete] = useState<{data: Array<{index, dataIndex}>}>({data: []});\r\n\r\n    useEffect(() => {\r\n        if(rowsToDelete.data.length){\r\n            setOpenDeleteDialog(true);\r\n        }\r\n    }, [rowsToDelete]);\r\n\r\n    return {\r\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\r\n    }\r\n};\r\n\r\nexport default useDeleteCollection;","import * as React from 'react';\r\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\r\n\r\ninterface DeleteDialogProps {\r\n    open: boolean;\r\n    handleClose: (confirmed: boolean) => void;\r\n}\r\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\r\n    const {open, handleClose} = props;\r\n\r\n    return (\r\n        <Dialog\r\n        open={open}\r\n        onClose={() => handleClose(false)}\r\n        >\r\n            <DialogTitle>\r\n                Exclusão de registros\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Deseja realmente excluir este(s) registro(s)?\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => handleClose(false)} color=\"primary\">\r\n                    Cancelar\r\n                </Button>\r\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\r\n                    Excluir\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default DeleteDialog;","import * as React from 'react';\r\nimport DefaultTable, {makeActionStyles, TableColumn, TableComponent} from \"../../components/Table\";\r\nimport format from \"date-fns/format\";\r\nimport parseISO from \"date-fns/parseISO\";\r\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport {useEffect, useRef, useState} from \"react\";\r\nimport {ListResponse, Video} from \"../../util/model\";\r\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\r\nimport videoHttp from \"../../util/http/video-http\";\r\nimport {FilterResetButton} from \"../../components/Table/FilterResetButton\";\r\nimport DeleteDialog from \"../../components/DeleteDialog\";\r\nimport useFilter from \"../../hooks/useFilter\";\r\n\r\nconst columnsDefinitions: TableColumn[] = [\r\n    {\r\n        name: \"id\",\r\n        label: \"Id\",\r\n        width: '30%',\r\n        options: {\r\n            sort: false,\r\n            filter: false\r\n        }\r\n    },\r\n    {\r\n        name: \"title\",\r\n        label:\"Título\",\r\n        width: '20%',\r\n        options: {\r\n            filter: false\r\n        }\r\n    },\r\n    {\r\n        name: 'genres',\r\n        label: \"Gêneros\",\r\n        width: \"13%\",\r\n        options: {\r\n            sort: false,\r\n            filter: false,\r\n            customBodyRender(value,){\r\n                return value.map(value => value.name).join(', ');\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: \"categories\",\r\n        label: \"Categorias\",\r\n        width: '12%',\r\n        options: {\r\n            sort:false,\r\n            filter:false,\r\n            customBodyRender: (value, tableMeta, updateValue) => {\r\n                return value.map(value => value.name).join(', ');\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: \"created_at\",\r\n        label: \"Criado em\",\r\n        options: {\r\n            filter: false,\r\n            customBodyRender(value, tableMeta, updateValue) {\r\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'actions',\r\n        label: 'Ações',\r\n        width: '13%',\r\n        options: {\r\n            filter: false,\r\n            sort: false,\r\n            customBodyRender: (value, tableMeta, updateValue) => {\r\n                return (\r\n                    <span>\r\n                        <IconButton\r\n                            color={'secondary'}\r\n                            component={Link}\r\n                            to={`/videos/${tableMeta.rowData[0]}/edit`}\r\n                        >\r\n                            <EditIcon/>\r\n                        </IconButton>\r\n                    </span>\r\n                )\r\n            }\r\n        }\r\n    }\r\n];\r\n\r\nconst debounceTime = 300;\r\nconst debouncedSearchTime = 300;\r\nconst rowsPerPage = 15;\r\nconst rowsPerPageOptions = [15,25,50];\r\nconst Table = () => {\r\n    const snackbar = useSnackbar();\r\n    const subscribed = useRef(true);\r\n    const [data, setData] = useState<Video[]>([]);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection();\r\n    const tableRef = useRef() as React.MutableRefObject<TableComponent>;\r\n\r\n    const {\r\n        columns,\r\n        filterManager,\r\n        cleanSearchText,\r\n        filterState,\r\n        debouncedFilterState,\r\n        totalRecords,\r\n        setTotalRecords,\r\n    } = useFilter({\r\n        columns: columnsDefinitions,\r\n        debounceTime: debounceTime,\r\n        rowsPerPage,\r\n        rowsPerPageOptions,\r\n        tableRef\r\n    });\r\n\r\n    useEffect( () => {\r\n        subscribed.current = true;\r\n        getData();\r\n        return () => {\r\n            subscribed.current = false;\r\n        }\r\n    }, [\r\n        cleanSearchText(debouncedFilterState.search),\r\n        debouncedFilterState.pagination.page,\r\n        debouncedFilterState.pagination.per_page,\r\n        debouncedFilterState.order\r\n    ]);\r\n\r\n    async function getData() {\r\n        setLoading(true);\r\n        try {\r\n            const {data} = await videoHttp.list<ListResponse<Video>>({\r\n                queryParams: {\r\n                    search: cleanSearchText(debouncedFilterState.search),\r\n                    page: debouncedFilterState.pagination.page,\r\n                    per_page: debouncedFilterState.pagination.per_page,\r\n                    sort: debouncedFilterState.order.sort,\r\n                    dir: debouncedFilterState.order.dir,\r\n                }\r\n            });\r\n            if(subscribed.current) {\r\n                setData(data.data);\r\n                setTotalRecords(data.meta.total);\r\n                if(openDeleteDialog) {\r\n                    setOpenDeleteDialog(false);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            if(videoHttp.isCancelledRequest(error)) {\r\n                return ;\r\n            }\r\n            snackbar.enqueueSnackbar(\r\n                'Não foi possivel carregar as informações',\r\n                {variant: 'error',}\r\n            )\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    function deleteRows(confirmed: boolean) {\r\n        if(!confirmed) {\r\n            setOpenDeleteDialog(false);\r\n            return;\r\n        }\r\n        const ids = rowsToDelete\r\n            .data\r\n            .map((value) => data[value.index].id)\r\n            .join(',');\r\n        videoHttp\r\n            .deleteCollection({ids})\r\n            .then(response => {\r\n                snackbar.enqueueSnackbar(\r\n                    'Registros excluidos salvo com sucesso',\r\n                    {variant: 'success'}\r\n                );\r\n                if(rowsToDelete.data.length === filterState.pagination.per_page\r\n                && filterState.pagination.page > 1){\r\n                    const page = filterState.pagination.page - 2;\r\n                    filterManager.changePage(page);\r\n                } else {\r\n                    getData()\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n                snackbar.enqueueSnackbar(\r\n                    'Não foi possivel excluir os registros',\r\n                    {variant: 'error',}\r\n                )\r\n            })\r\n    }\r\n\r\n    return (\r\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\r\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\r\n            <DefaultTable\r\n                title={\"\"}\r\n                columns={columns}\r\n                data={data}\r\n                isLoading={loading}\r\n                debouncedSearchTime={debouncedSearchTime}\r\n                ref={tableRef}\r\n                options={{\r\n                    serverSide: true,\r\n                    responsive: \"scrollMaxHeight\",\r\n                    searchText: filterState.search as any,\r\n                    page: filterState.pagination.page - 1,\r\n                    rowsPerPage: filterState.pagination.per_page,\r\n                    rowsPerPageOptions,\r\n                    count: totalRecords,\r\n                    customToolbar: () => (\r\n                        <FilterResetButton\r\n                            handleClick={() => filterManager.resetFilter()}\r\n                        />\r\n                    ),\r\n                    onSearchChange: (value) => filterManager.changeSearch(value),\r\n                    onChangePage: (page) => filterManager.changePage(page),\r\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\r\n                    onColumnSortChange: (changeColumn: string, direction: string) =>\r\n                        filterManager.changeColumnSort(changeColumn, direction),\r\n                    onRowsDelete: (rowsDeleted: any[]) => {\r\n                        console.log(rowsDeleted);\r\n                        setRowsToDelete(rowsDeleted as any);\r\n                        return false;\r\n                    }\r\n                }}\r\n            />\r\n        </MuiThemeProvider>\r\n    );\r\n};\r\n\r\nexport default Table;","import * as React from 'react';\r\nimport {Page} from \"../../components/Page\";\r\nimport {Box, Fab} from \"@material-ui/core\";\r\nimport {Link} from 'react-router-dom';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Table from './Table';\r\n\r\nconst PageList = () => {\r\n    return (\r\n        <Page title={'Listagem de videos'}>\r\n            <Box dir={'rtl'} paddingBottom={2}>\r\n                <Fab\r\n                    title=\"Adicionar video\"\r\n                    color={'secondary'}\r\n                    size=\"small\"\r\n                    component={Link}\r\n                    to=\"/videos/create\"\r\n                    >\r\n                    <AddIcon/>\r\n                </Fab>\r\n            </Box>\r\n            <Box>\r\n                <Table/>\r\n            </Box>\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default PageList;","import * as React from 'react';\r\nimport {Divider, makeStyles, Fade, IconButton, Theme} from \"@material-ui/core\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {Link} from 'react-router-dom';\r\nimport {FileUpload, Upload} from \"../../store/upload/types\";\r\nimport {Creators} from '../../store/upload';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {hasError, isFinished, isUploadType} from \"../../store/upload/getters\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useDebounce} from \"use-debounce\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return ({\r\n        successIcon: {\r\n            color: theme.palette.success.main,\r\n            marginLeft: theme.spacing(1)\r\n        },\r\n        errorIcon: {\r\n            color: theme.palette.error.main,\r\n            marginLeft: theme.spacing(1)\r\n        },\r\n        divider: {\r\n            height: '20px',\r\n            marginLeft: theme.spacing(1),\r\n            marginRight: theme.spacing(1)\r\n        }\r\n    })\r\n});\r\n\r\ninterface UploadActionProps {\r\n    uploadOrFile: Upload | FileUpload\r\n}\r\n\r\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\r\n    const {uploadOrFile} = props;\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const error = hasError(uploadOrFile);\r\n    const videoId = (uploadOrFile as any).video ? (uploadOrFile as any).video.id : '';\r\n    const [show, setShow] = useState(false);\r\n    const activeActions = isUploadType(uploadOrFile);\r\n    const [debouncedShow] = useDebounce(show, 2500);\r\n\r\n    useEffect(() => {\r\n        setShow(isFinished(uploadOrFile))\r\n    }, [uploadOrFile]);\r\n\r\n    return (\r\n        debouncedShow ? (<Fade in={true} timeout={{enter: 1000}}>\r\n            <>\r\n                {uploadOrFile.progress === 1 &&\r\n                !error &&\r\n                <CheckCircleIcon className={classes.successIcon}/>}\r\n                {error && <ErrorIcon className={classes.errorIcon}/>}\r\n                {activeActions && (\r\n                    <>\r\n                        <Divider className={classes.divider} orientation={'vertical'}/>\r\n                        <IconButton\r\n                            onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\r\n                        >\r\n                            <DeleteIcon color={'primary'}/>\r\n                        </IconButton>\r\n                        <IconButton\r\n                            component={Link}\r\n                            to={`/videos/${videoId}/edit`}\r\n                        >\r\n                            <EditIcon color={'primary'}/>\r\n                        </IconButton>\r\n                    </>\r\n                )}\r\n            </>\r\n        </Fade>) : null\r\n    );\r\n};\r\n\r\nexport default UploadAction;","import * as React from 'react';\r\nimport {Grid, ListItem, Theme, Typography} from \"@material-ui/core\";\r\nimport MovieIcon from '@material-ui/icons/Movie'\r\nimport ImageIcon from \"@material-ui/icons/Image\"\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport UploadProgress from \"../../components/UploadProgress\";\r\nimport {FileUpload, Upload} from \"../../store/upload/types\";\r\nimport UploadAction from './UploadAction'\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n   return ({\r\n       icon: {\r\n        color: theme.palette.error.main,\r\n           minWidth: '40px'\r\n       },\r\n       gridTitle: {\r\n           display: 'flex',\r\n           color: '#999999'\r\n       }\r\n   })\r\n});\r\n\r\ninterface UploadItemProps {\r\n    uploadOrFile: Upload | FileUpload\r\n}\r\n\r\nconst UploadItem: React.FC<UploadItemProps> =  (props) => {\r\n    const {uploadOrFile} = props;\r\n    const classes = useStyles();\r\n\r\n    function makeIcon() {\r\n        if(true) {\r\n            return <MovieIcon className={classes.icon}/>\r\n        }\r\n\r\n        return <ImageIcon className={classes.icon}/>\r\n    }\r\n\r\n    return (\r\n<ListItem>\r\n    <Grid container alignItems={'center'}>\r\n        <Grid\r\n            className={classes.gridTitle}\r\n            item\r\n            xs={12}\r\n            md={9}\r\n        >\r\n            {makeIcon()}\r\n            <Typography color={'inherit'}>\r\n                {props.children}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} md={3}>\r\n            <Grid\r\n                container\r\n                direction={'row'}\r\n                alignItems={'center'}\r\n                justify={'flex-end'}\r\n                ></Grid>\r\n            <UploadProgress size={48} uploadOrFile={uploadOrFile}/>\r\n            <UploadAction uploadOrFile={uploadOrFile} />\r\n        </Grid>\r\n    </Grid>\r\n</ListItem>\r\n    );\r\n};\r\n\r\nexport default UploadItem;","import * as React from 'react';\r\nimport {Page} from \"../../components/Page\";\r\nimport {\r\n    Card,\r\n    CardContent, Divider,\r\n    ExpansionPanel,\r\n    ExpansionPanelDetails,\r\n    ExpansionPanelSummary, Grid, List,\r\n    Theme,\r\n    Typography\r\n} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport UploadItem from \"./UploadItem\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Upload, UploadModule} from \"../../store/upload/types\";\r\nimport {VideoFileFieldsMap} from \"../../util/model\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return ({\r\n        panelSummary: {\r\n            backgroundColor: theme.palette.primary.main,\r\n            color: theme.palette.primary.contrastText\r\n        },\r\n        expandedPanel: {\r\n            backgroundColor: theme.palette.primary.main,\r\n            color: theme.palette.primary.contrastText\r\n        },\r\n        expandedIcon: {\r\n            color: theme.palette.primary.contrastText\r\n        }\r\n    })\r\n});\r\n\r\nconst Uploads = () => {\r\n        const classes = useStyles();\r\n\r\n        const uploads = useSelector<UploadModule, Upload[]>(\r\n            (state) => state.upload.uploads\r\n        );\r\n\r\n        return (\r\n            <Page title={'Uploads'}>\r\n                {\r\n                    uploads.map((upload, key) => (\r\n                        <Card elevation={5} key={key}>\r\n                            <CardContent>\r\n                                <UploadItem uploadOrFile={upload}>\r\n                                    {upload.video.title}\r\n                                </UploadItem>\r\n                                <ExpansionPanel style={{margin: 0}}>\r\n                                    <ExpansionPanelSummary\r\n                                        className={classes.panelSummary}\r\n                                        expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\r\n                                    >\r\n                                        <Typography>Ver detalhes</Typography>\r\n                                    </ExpansionPanelSummary>\r\n                                    <ExpansionPanelDetails style={{padding: '0px'}}>\r\n                                        <Grid item xs={12}>\r\n                                            <List dense={true} style={{padding: '0px'}}>\r\n                                                {upload.files.map((file, key) => (\r\n                                                    <React.Fragment key={key}>\r\n                                                        <Divider/>\r\n                                                        <UploadItem uploadOrFile={file}>\r\n                                                            {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\r\n                                                        </UploadItem>\r\n                                                    </React.Fragment>\r\n                                                ))\r\n                                                }\r\n                                            </List>\r\n                                        </Grid>\r\n                                    </ExpansionPanelDetails>\r\n                                </ExpansionPanel>\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))\r\n                }\r\n            </Page>\r\n        );\r\n    }\r\n;\r\n\r\nexport default Uploads;","import { RouteProps } from \"react-router-dom\";\r\nimport Dashboard from \"../Pages/Dashboard\";\r\nimport CategoryList from \"../Pages/category/PageList\";\r\nimport CategoryForm from \"../Pages/category/PageForm\";\r\nimport CastMemberList from \"../Pages/cast-member/PageList\";\r\nimport CastMemberForm from \"../Pages/cast-member/PageForm\";\r\nimport GenreList from \"../Pages/genre/PageList\";\r\nimport GenreForm from \"../Pages/genre/PageForm\";\r\nimport VideoForm from \"../Pages/video/PageForm\";\r\nimport VideoList from \"../Pages/video/PageList\";\r\nimport UploadPage from \"../Pages/uploads\";\r\n\r\nexport interface MyRouteProps extends RouteProps {\r\n  name: string;\r\n  label: string;\r\n}\r\n\r\nconst routes: MyRouteProps[] = [\r\n  {\r\n    name: \"dashboard\",\r\n    label: \"Dashboard\",\r\n    path: \"/\",\r\n    component: Dashboard,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"categories.list\",\r\n    label: \"Listar categorias\",\r\n    path: \"/categories\",\r\n    component: CategoryList,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"categories.create\",\r\n    label: \"Criar categoria\",\r\n    path: \"/categories/create\",\r\n    component: CategoryForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"categories.edit\",\r\n    label: \"Editar categoria\",\r\n    path: \"/categories/:id/edit\",\r\n    component: CategoryForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"cast_members.list\",\r\n    label: \"Listar membros de elencos\",\r\n    path: \"/cast-members\",\r\n    component: CastMemberList,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"cast_members.create\",\r\n    label: \"Criar membro de elenco\",\r\n    path: \"/cast-members/create\",\r\n    component: CastMemberForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"cast_members.edit\",\r\n    label: \"Editar membro de elenco\",\r\n    path: \"/cast-members/:id/edit\",\r\n    component: CastMemberForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"genres.list\",\r\n    label: \"Listar gêneros\",\r\n    path: \"/genres\",\r\n    component: GenreList,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"genres.create\",\r\n    label: \"Criar gêneros\",\r\n    path: \"/genres/create\",\r\n    component: GenreForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"genres.edit\",\r\n    label: \"Editar gêneros\",\r\n    path: \"/genres/:id/edit\",\r\n    component: GenreForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"videos.list\",\r\n    label: \"Listar videos\",\r\n    path: \"/videos\",\r\n    component: VideoList,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"videos.create\",\r\n    label: \"Criar Videos\",\r\n    path: \"/videos/create\",\r\n    component: VideoForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"videos.edit\",\r\n    label: \"Editar vídeo\",\r\n    path: \"/videos/:id/edit\",\r\n    component: VideoForm,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"uploads.list\",\r\n    label: \"Uploads\",\r\n    path: \"/uploads\",\r\n    component: UploadPage,\r\n    exact: true,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","\r\nimport * as React from 'react';\r\nimport {IconButton, Menu as MuiMenu, MenuItem} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport routes, {MyRouteProps} from \"../../routes\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst listRoutes= {\r\n    'dashboard':'DashBoard',\r\n    'categories.list':'Categorias',\r\n    'cast_members.list':'Membros de elenco',\r\n    'genres.list':'Gêneros',\r\n    'videos.list':'Videos',\r\n    'uploads.list':'Uploads'\r\n};\r\n\r\nexport const Menu = () => {\r\n\r\n    const menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open= Boolean(anchorEl);\r\n    const handleOpen = (event:any) => setAnchorEl(event.currentTarget);\r\n    const handleClose = () =>setAnchorEl(null);\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            aria-controls={\"menu-appbar\"}\r\n            aria-haspopup=\"true\"\r\n            onClick={handleOpen}\r\n        >\r\n            <MenuIcon/>\r\n        </IconButton>\r\n\r\n    <MuiMenu\r\n        id=\"menu-appbar\"\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\r\n        transformOrigin={{vertical: 'top',horizontal:'center'}}\r\n        getContentAnchorEl={null}\r\n    >\r\n        {\r\n            Object.keys(listRoutes).map(\r\n                (routeName,key) => {\r\n                    const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps;\r\n                    return (\r\n                        <MenuItem key={key}  component={Link}  to={route.path as string} onClick={handleClose}>\r\n                            {listRoutes[routeName]}\r\n                        </MenuItem>\r\n                    )\r\n                  }\r\n               )\r\n        }\r\n    </MuiMenu>\r\n        </React.Fragment>\r\n    );\r\n};\r\n","import {AppBar, Button, Toolbar, Typography, makeStyles, Theme} from '@material-ui/core';\nimport * as React from 'react';\nimport logo from '../../static/img/logo.png';\nimport {Menu} from './Menu'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  toolbar: {\n    backgroundColor: '#000000'\n  },\n    title:{\n      flexGrow:1,\n        textAlign:'center'\n    },\n    logo:{\n      width:100,\n        [theme.breakpoints.up('sm')]: {\n            width: 170\n        }\n    }\n}));\n\nexport const Navbar : React.FC = () => {\n  const classes = useStyles();\n\n  return (\n      <AppBar>\n        <Toolbar className={classes.toolbar}>\n            <Menu></Menu>\n            <Typography className={classes.title}>\n              <img src={logo} alt=\"CodeFlix\" className={classes.logo}/>\n            </Typography>\n            <Button color=\"inherit\">Login</Button>\n        </Toolbar>\n      </AppBar>\n  );\n};\n","import * as React from 'react';\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport routes from './index'\r\n\r\nconst AppRouter = () => {\r\n    return (\r\n        <Switch>\r\n            {\r\n                routes.map(\r\n                    (route, key) => (\r\n                        <Route\r\n                            key={key}\r\n                            path={route.path}\r\n                            component={route.component}\r\n                            exact={route.exact === true}\r\n                        />\r\n                    )\r\n                )\r\n            }\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\r\nimport {makeStyles, Theme, createStyles} from '@material-ui/core/styles';\r\nimport Link, {LinkProps} from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport {Route} from 'react-router';\r\nimport {Link as RouterLink} from 'react-router-dom';\r\nimport {Location} from 'history'\r\nimport routes from \"../routes\";\r\nimport RouteParser from 'route-parser'\r\nimport {Box, Container} from \"@material-ui/core\";\r\n\r\nconst breadcrumbNameMap: { [key: string]: string } = {};\r\n\r\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label);\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n        },\r\n        linkRouter:{\r\n            color: '#4db5ab',\r\n            \"&:focus, &:active\":{\r\n                color: theme.palette.secondary.main,\r\n            },\r\n            \"&:houver\":{\r\n                color: theme.palette.secondary.dark\r\n            }\r\n        }\r\n    }),\r\n);\r\n\r\ninterface LinkRouterProps extends LinkProps {\r\n    to: string;\r\n    replace?: boolean;\r\n}\r\n\r\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any}/>;\r\n\r\nexport default function Breadcrumbs() {\r\n    const classes = useStyles();\r\n\r\n    function makeBreadCrumb(location : Location) {\r\n        const pathnames = location.pathname.split('/').filter((x) => x);\r\n        pathnames.unshift('/');\r\n        return (\r\n            <MuiBreadcrumbs aria-label=\"breadcrumb\">\r\n                {\r\n                    pathnames.map((value, index) => {\r\n                        const last = index === pathnames.length - 1;\r\n                        const to = `${pathnames.slice(0, index + 1).join('/').replace('//','/')}`;\r\n                        const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to));\r\n                        if(route === undefined) {\r\n                            return false;\r\n                        }\r\n                        return last ? (\r\n                            <Typography color=\"textPrimary\" key={to}>\r\n                                {breadcrumbNameMap[route]}\r\n                            </Typography>\r\n                        ) : (\r\n                            <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\r\n                                {breadcrumbNameMap[route]}\r\n                            </LinkRouter>\r\n                        );\r\n                    })\r\n                }\r\n            </MuiBreadcrumbs>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Box paddingTop={2} paddingBottom={1}>\r\n                <Route>\r\n                    {\r\n                        ({location}) => makeBreadCrumb(location)\r\n                    }\r\n                </Route>\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport {Fade, LinearProgress, MuiThemeProvider, Theme} from \"@material-ui/core\";\r\nimport {useContext} from \"react\";\r\nimport LoadingContext from \"./loading/LoadingContext\";\r\n\r\nfunction makeLocalTheme(theme: Theme) {\r\n    return {\r\n        ...theme,\r\n        palette: {\r\n            ...theme.palette,\r\n            primary: theme.palette.error\r\n        }\r\n    }\r\n}\r\n\r\nconst Spinner = () => {\r\n    const loading = useContext(LoadingContext);\r\n    return (\r\n        <MuiThemeProvider theme={ makeLocalTheme}>\r\n            <Fade in={loading}>\r\n            <LinearProgress\r\n                color={\"primary\"}\r\n                style={{\r\n                    position: 'fixed',\r\n                    width: '100%',\r\n                    zIndex: 9999\r\n                }}/>\r\n            </Fade>\r\n        </MuiThemeProvider>\r\n    );\r\n};\r\n\r\nexport default Spinner;","import * as React from 'react';\r\nimport {SnackbarProvider as NotistackProvider, SnackbarProviderProps} from \"notistack\";\r\nimport {IconButton, Theme} from \"@material-ui/core\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles( (theme: Theme) =>{\r\n    return {\r\n        variantSuccess: {\r\n            backgroundColor: theme.palette.success.main\r\n        },\r\n        variantError: {\r\n            backgroundColor: theme.palette.error.main\r\n        },\r\n        variantInfo: {\r\n            backgroundColor: theme.palette.primary.main\r\n        }\r\n    }\r\n})\r\n\r\nexport const SnackbarProvider : React.FC<SnackbarProviderProps> = (props) => {\r\n  let snackbarProviderRef;\r\n  const classes = useStyles();\r\n  const defaultProps: SnackbarProviderProps = {\r\n      classes,\r\n      children:null,\r\n      autoHideDuration: 3000,\r\n      maxSnack: 3,\r\n      anchorOrigin:{\r\n          horizontal:'right',\r\n          vertical: 'top'\r\n      },\r\n      preventDuplicate: true,\r\n      ref:(el) => snackbarProviderRef = el,\r\n      action: (key) => (\r\n          <IconButton\r\n              color={\"inherit\"}\r\n              style={{fontSize: 20}}\r\n              onClick={() => snackbarProviderRef.closeSnackbar(key)}\r\n          >\r\n              <CloseIcon/>\r\n          </IconButton>\r\n      )\r\n  };\r\n\r\n  const newProps = {...defaultProps, ...props};\r\n\r\n    return (\r\n        <NotistackProvider {...newProps}>\r\n            {props.children}\r\n        </NotistackProvider>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport LoadingContext from './LoadingContext';\r\nimport {useState, useMemo, useEffect} from \"react\";\r\nimport {omit} from 'lodash'\r\nimport {\r\n    addGlobalRequestInterceptor,\r\n    addGlobalResponseInterceptor,\r\n    removeGlobalRequestInterceptor,\r\n    removeGlobalResponseInterceptor\r\n} from \"../../util/http\";\r\n\r\nexport const LoadingProvider = (props) => {\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [countRequest, setCountRequest] = useState(0);\r\n\r\n    useMemo(() => {\r\n        let isSubscribed = true;\r\n        const requestIds = addGlobalRequestInterceptor((config) => {\r\n            if (isSubscribed && !config.headers.hasOwnProperty('ignoredLoading')) {\r\n                setLoading(true);\r\n                setCountRequest((prevCountRequest) => prevCountRequest + 1);\r\n            }\r\n            config.headers = omit(config.headers,'ignoreLoading')\r\n            return config;\r\n        })\r\n\r\n        const responseIds = addGlobalResponseInterceptor(\r\n            (response) => {\r\n                if (isSubscribed && !response.config.headers.hasOwnProperty('ignoredLoading')) {\r\n                    decrementCountRequest();\r\n                }\r\n                return response;\r\n            }, (error) => {\r\n                if (isSubscribed && !error.config.headers.hasOwnProperty('ignoredLoading')) {\r\n                    decrementCountRequest();\r\n                }\r\n                return Promise.reject(error);\r\n            });\r\n        return () => {\r\n            isSubscribed = false;\r\n            removeGlobalRequestInterceptor(requestIds);\r\n            removeGlobalResponseInterceptor(responseIds);\r\n        }\r\n    }, [true]);\r\n\r\n    useEffect( () => {\r\n        if(!countRequest){\r\n            setLoading(false);\r\n        }\r\n    },[countRequest])\r\n\r\n    function decrementCountRequest() {\r\n        setCountRequest((prevCountRequest) => prevCountRequest - 1);\r\n    }\r\n\r\n    return (\r\n        <LoadingContext.Provider value={loading}>\r\n            {props.children}\r\n        </LoadingContext.Provider>\r\n    );\r\n};","import React from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport {Navbar} from './components/Navbar';\nimport {Box, MuiThemeProvider, CssBaseline} from '@material-ui/core';\nimport {BrowserRouter} from \"react-router-dom\";\nimport AppRouter from \"./routes/AppRouter\";\nimport Breadcrumbs from \"./components/Breadcrumbs\";\nimport Spinner from \"./components/Spinner\";\nimport theme from \"./theme\";\nimport {SnackbarProvider} from \"./components/SnackbarProvider\";\nimport {LoadingProvider} from \"./components/loading/LoadingProvider\";\n\nfunction App() {\n    return (\n        <React.Fragment>\n            <LoadingProvider>\n                <MuiThemeProvider theme={theme}>\n                    <SnackbarProvider>\n                        <CssBaseline/>\n                        <BrowserRouter basename=\"/admin\">\n                            <Spinner/>\n                            <Navbar/>\n                            <Box paddingTop={'70px'}>\n                                <Breadcrumbs/>\n                                <AppRouter/>\n                            </Box>\n                        </BrowserRouter>\n                    </SnackbarProvider>\n                </MuiThemeProvider>\n            </LoadingProvider>\n        </React.Fragment>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {Types, Creators} from './index'\r\nimport {eventChannel, END} from 'redux-saga';\r\nimport {actionChannel, take, call, put} from 'redux-saga/effects';\r\nimport {AddUploadAction, FileInfo} from \"./types\";\r\nimport {Video} from '../../util/model';\r\nimport videoHttp from \"../../util/http/video-http\";\r\n\r\nexport function* uploadWatcherSaga() {\r\n\r\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD)\r\n\r\n    while (true) {\r\n        const {payload}: AddUploadAction = yield take(newFilesChannel);\r\n        for (const fileInfo of payload.files) {\r\n            try {\r\n                yield call(uploadFile, {video: payload.video, fileInfo});\r\n            } catch (e) {\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction* uploadFile({video, fileInfo}: { video: Video, fileInfo: FileInfo }) {\r\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\r\n    while (true) {\r\n        try {\r\n            const {progress, response} = yield take(channel);\r\n            if (response) {\r\n                return response;\r\n            }\r\n            yield put(Creators.updateProgress({video, fileField: fileInfo.fileField, progress}))\r\n        } catch (e) {\r\n            yield put(Creators.setUploadError({\r\n                video,\r\n                fileField: fileInfo.fileField,\r\n                error: e\r\n            }));\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n\r\nfunction sendUpload({id, fileInfo}: { id: string, fileInfo: FileInfo }) {\r\n    return eventChannel(emitter => {\r\n        videoHttp.partialIpdate(\r\n            id,\r\n            {\r\n                _method: 'PATCH',\r\n                [fileInfo.fileField]: fileInfo.file\r\n            }, {\r\n                http: {\r\n                    usePost: true\r\n                },\r\n                config: {\r\n                    headers: {\r\n                        ignoreLoading: true\r\n                    },\r\n                    onUploadProgress(progressEvent) {\r\n                        if (progressEvent.lengthComputable) {\r\n                            const progress = progressEvent.loaded / progressEvent.total;\r\n\r\n                            emitter({progress});\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ).then(response => emitter({response}))\r\n            .catch(error => emitter(error))\r\n            .finally(() => emitter(END));\r\n        const unsubscribe = () => {\r\n        };\r\n        return unsubscribe;\r\n    })\r\n}","import {all} from 'redux-saga/effects';\r\nimport {uploadWatcherSaga} from \"./upload/sagas\";\r\n\r\nexport default function* rootSaga (){\r\n    yield  all([\r\n        uploadWatcherSaga()\r\n    ])\r\n\r\n}","import {createStore, applyMiddleware, combineReducers} from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport upload from './upload';\r\nimport rootSaga from \"./root-saga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n        combineReducers({\r\n            upload\r\n        }),\r\n        applyMiddleware(sagaMiddleware)\r\n);\r\n\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport store from \"./store\";\n\n//  <React.StrictMode> </React.StrictMode>,\nReactDOM.render(\n        <Provider store={store}>\n            <App/>\n        </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}